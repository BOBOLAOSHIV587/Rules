/***********************************

// ==UserScript==
// @ScriptName        酷我音乐[VIP+净化]
// @Author            @ddgksf2013
// @TgChannel         https://t.me/ddgksf2021
// @Contribute        https://t.me/ddgksf2013_bot
// @Feedback          📮 ddgksf2013@163.com 📮
// @UpdateTime        2025-08-17
// @Attention         使用中若有问题请发邮件！
// @Suitable          自行观看“# > ”注释内容
// @Attention         如需引用请注明出处，谢谢合作！
// @Version           V2.0.46
// @ScriptURL         https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
// ==/UserScript==


1、本重写仅限本人使用，严禁传播或售卖
2、解锁VIP歌曲，VIP听书，VIP装扮
3、全面净化去除酷我音乐广告
4、脚本工作原理为音源替换而非破解
5、若需要更高音质请付费支持歌手


[rewrite_local]
# > 通用广告请求@ddgksf2013
https?:\/\/vip1\.kuwo\.cn\/vip\/activity\/kwMemberDay url reject-200
https?:\/\/mc\.tencentmusic\.com\/sdk\/ad url reject-200
# > 屏蔽热词@ddgksf2013
https?:\/\/hotword\.kuwo\.cn\/hotword\.s url reject-200
# > 通用广告请求@ddgksf2013
https?:\/\/vip1\.kuwo\.cn\/vip_adv\/ url reject-200
# > 通用广告请求@ddgksf2013
https?:\/\/wapi\.kuwo\.cn\/openapi\/v1\/app\/pasterAdvert url reject-200
# > 应用内弹窗及右下角@ddgksf2013
^https?:\/\/mobilead\.kuwo\.cn\/ url reject-200
# > 搜索框处理@ddgksf2013
https?:\/\/searchrecterm\.kuwo\.cn\/recterm\.s url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 会员页广告@ddgksf2013
https?:\/\/appi\.kuwo\.cn\/kuwopay\/vip-tab\/page\/cells url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 会员页顶部广告tab@ddgksf2013
https?:\/\/appi\.kuwo\.cn\/kuwopay\/vip-tab\/setting url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 开屏广告@ddgksf2013
https?:\/\/rich\.kuwo\.cn\/AdService url reject-200
# > 数字专辑@ddgksf2013
^https?:\/\/musicpay\.kuwo\.cn\/music\.pay\?newver url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 听书权限接口1@ddgksf2013
^https?:\/\/[a-z0-9A-Z]+\.(kuwo|lrts)\.(cn|me)\/a\.p url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 听书权限接口2@ddgksf2013
^https?:\/\/.*\.kuwo\.cn\/v2\/api\/pay\/vip\/extraVipStatus url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 新版vip接口1@ddgksf2013
^https?:\/\/vip1\.kuwo\.cn\/vip\/enc\/user\/vip\?op=ui url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 新版vip接口2@ddgksf2013
^https?:\/\/vip1\.kuwo\.cn\/vip\/v2\/userbase\/vip\?op=get url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 旧版vip接口@ddgksf2013
^https?:\/\/vip1\.kuwo\.cn\/vip\/v2\/user\/vip\?(uid|op=ui) url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 皮肤解锁@ddgksf2013
^https?:\/\/vip1\.kuwo\.cn\/vip\/v2\/theme url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 下载接口@ddgksf2013
^https?:\/\/musicpay\.kuwo\.cn\/music\.pay\?ui url script-request-header https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 我的页面卡片@ddgksf2013
^https?:\/\/appi.kuwo.cn/kuwopay/personal/cells url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js
# > 音乐播放接口@ddgksf2013
^https:\/\/[a-z0-9A-Z]+\.kuwo\.cn\/mobi\.s\?f=kwxs url script-response-body https://gist.githubusercontent.com/ddgksf2013/0f76e952f0c4a2579932f45a209b40c3/raw/mykkmusic.vip.js


[mitm]
hostname = *.kuwo.cn, *.lrts.me, mc.tencentmusic.com

***********************************


# const version = 'V1.0.16';

# const $ = new Env("KW");
# var _0xodp='jsjiami.com.v7';var _0x3f65f1=_0x43dd;(function(_0x3316ca,_0x55cc36,_0x3d9bcb,_0x1e5814,_0x4d4040,_0x249129,_0x5abbb1){return _0x3316ca=_0x3316ca>>0x3,_0x249129='hs',_0x5abbb1='hs',function(_0x4f9891,_0x2e9121,_0x568298,_0x514c03,_0x385193){var _0x4befd9=_0x43dd;_0x514c03='tfi',_0x249129=_0x514c03+_0x249129,_0x385193='up',_0x5abbb1+=_0x385193,_0x249129=_0x568298(_0x249129),_0x5abbb1=_0x568298(_0x5abbb1),_0x568298=0x0;var _0x275ab9=_0x4f9891();while(!![]&&--_0x1e5814+_0x2e9121){try{_0x514c03=-parseInt(_0x4befd9(0x1b7,'$qW['))/0x1+-parseInt(_0x4befd9(0x18d,'tnzx'))/0x2+-parseInt(_0x4befd9(0x148,'PV&M'))/0x3*(parseInt(_0x4befd9(0x1a2,'cVMO'))/0x4)+-parseInt(_0x4befd9(0x1f2,'cVMO'))/0x5*(-parseInt(_0x4befd9(0x19c,'3*Iw'))/0x6)+-parseInt(_0x4befd9(0x1a7,'@XS*'))/0x7+parseInt(_0x4befd9(0x1cd,'yeoR'))/0x8*(-parseInt(_0x4befd9(0x171,'nPYI'))/0x9)+parseInt(_0x4befd9(0x192,'3zC#'))/0xa;}catch(_0xe24fdd){_0x514c03=_0x568298;}finally{_0x385193=_0x275ab9[_0x249129]();if(_0x3316ca<=_0x1e5814)_0x568298?_0x4d4040?_0x514c03=_0x385193:_0x4d4040=_0x385193:_0x568298=_0x385193;else{if(_0x568298==_0x4d4040['replace'](/[AqOMtWDHVCNBhrFyXIJn=]/g,'')){if(_0x514c03===_0x2e9121){_0x275ab9['un'+_0x249129](_0x385193);break;}_0x275ab9[_0x5abbb1](_0x385193);}}}}}(_0x3d9bcb,_0x55cc36,function(_0x5b4100,_0x13553d,_0x3df3e5,_0x5ce129,_0x38f894,_0x5b6ab2,_0xd4243b){return _0x13553d='\x73\x70\x6c\x69\x74',_0x5b4100=arguments[0x0],_0x5b4100=_0x5b4100[_0x13553d](''),_0x3df3e5='\x72\x65\x76\x65\x72\x73\x65',_0x5b4100=_0x5b4100[_0x3df3e5]('\x76'),_0x5ce129='\x6a\x6f\x69\x6e',(0x1b2a71,_0x5b4100[_0x5ce129](''));});}(0x638,0x52e15,_0x523a,0xc9),_0x523a)&&(_0xodp=_0x523a);let method=$request['method'];function _0x523a(){var _0x5514de=(function(){return[_0xodp,'XrWjtsOjqiaIrmHhiFV.JcomN.Iv7XHByADHMCHn==','WQvtWRhcVweHW6zWcNGjW5bEmh7cTmoIs8kungmaWORcVY4kWRFdKmkAaWxdL8o1wLusW4NcPbeHgrv1WQ/cQSkCW44QWOulWRVdJCkMWPrGWRSQWOWRW7pcVhldKmoJhgfNW5K','bgJcRSovWOfZu8orzdGKESkjaW','W5C7yI8','s8oEWRqip8kQW5S','n8k0WOlcImkmC8k2WORdSgBdI8khca','u2RcRq','WO3cKsbE','o8o8WO1Kuq','qh/dLYO','ESonmv0','mSkZWOBcI8koESkYW6pcQHNcSSoNCG','zJRcL8owWORdOgJcPvRdQq','DCoxkfFcQbBcQeNcMx8XrSo9tvCPhYbyvL3cPmoNcmoLW5K','WOjApZvUWQNdNa','pwddMmom','W5FcPCoTWPKJftLbvfddPx7cNbbGzMLRzJVcP8keW4ZdTSkGydOayM/cNItdLCkuW67dMbxdHr10WR4WnLKiW5tcKrjkWRjgW4ZdGSoZyg7cO2ZcGqBcICoTowvogW','W78XEa','jbKy','6isn5P2Q5yEN6lEw5lYN55AC77+Y5PsE6lEn6kYN5lMJ5OMu77Yf','WPFdMvKPEmoyWQj8','jCo/WRDRWQ9sWP5TiMpdQsy','WO3cOSojW4qsESoU','W5VdJNqxW4OMWOBdI2yWWRTpcW','Amoll03cSq','WRiKWQOB','WQhcHeP8pCkAW5pcRfLGWOnvxum','vmkzl8kt','jb55zY0OWQVdI8kZv2z9xH/dICoBb8k5W4yEWOddO0nnWRvdW4VdMYDPWONdVMFcIqPNW5verSooqaRdGrSLW6PYEbRdQSkbW7PulGGMW5b4vq/cS8k2WQldPCkdWRXJWOVdKvBcGSkqksNcGgyAzWJcUCodWRjWWOBcI8o6WRTlD3FdLCkiWR/dKXZcI1z1WRP9W7ZcVCocdSoFpmoyWRvNWO7dTCoIW64BBSkIW7G5mCkP','vmkInCk5ma','WRZdKJuqB8kEnsq','W4qwbL4','FfmmW5ZdMfpcT1O+xSkdA8oQWP7cOW9hWOTOjCkTWODiDCoQW746ueBdGg5PWRRdICoaB8kaWOJdPCoUW7BdHmo8AmoOWO1lmctcTSo0W5z5WQDLW7H7dgxcVHXic1dcPLNdScO','a8ondmkqmmohp1S','CYFdNSko','WOqyrCoNb8ku','W5DjbSkOu8omySkWDbOctW','WPZdQCoqW4KnbmksASk5','eCo+WPz6vSoLyq','WPPMW4PkW5VcKKmSWPmAW78Q','ASoQW5BdNCoedmoG','WPpcVxhcKSkeW5ddLG','WOW+aSkWpepcLCkenbJdPmoyW5G','W6KAWR0','WP5gnW','e3pcKmoFzYuW','WR/dIsK','W5lcGt5UomkiW7HcnIRdOSkEsq','WRixlqJdLW','WOpdU8oYW5KFiG','WPhcUxpcJCka','k2tdNmobsu3dOW','W5ORWO0w','W41pwmoiCd/cIYy6WQ/dMb9uWQFdSCkQ','WP16WRFdOa','W4S6zxtcHW','WRezmrZdGq','ECo2i2dcQY7dTWxcKCosWOBdOmk5','Cs/dHSkBpCog','WRqQWROd','dI/dICknpG','pavHFJ1R','zcpdNSkloCoaWP8','WOjOl34QB8opWOFcGmopWR/cNa','WOpcT2xcHW','W4FdV8oUWPmUbCkW','W7qHWRenWR0cnZSkzmoNWQG','WOhdV8oTW5G','W4ZcPCoRWOa+sh8ira','W5JcTmoTWQq/qwig'].concat((function(){return['W7tdLWOO','DfTtW6O','bmk0pMr0','zmoHW4y','nKFdO8ksW4q','e8kcW6LDDSoDW47dGCoQW7VdJIi','rhFcPCoa','iuNdUCku','Fmono0e','EeGF','B8oIW7dcJgxcOGhdTmoHW7tdQWLZbW','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','W6xcLg8Kyd7dMmkekIj5W4z1qWi','WQSyoX7dISo0WPa','W43cRmkRWPTmACkTzmkojWeb','WQ5YWO3dJei','swZcKW','W4LQsmoY','W7qCWQxcPW','WR1xWPxcMgq','WRDEWOVdNW','E8k7lYRcQwtdVrVdTSo2W7y','Bmo2ja','CmoWW4ddKCosjmoVW5ZcUq','aNCJumoMWRTF','WOrgW4noW5C','W5CXn33cIq','kmk5WRtdRs7dQ1tcTW','WPDHWQFdQCoJWPxcISoxnSk8WOlcUmkKWRBcKsPcW73cTwtdR1pcThzrWOldG8kHdmkMFCoCi8oaEIjMWO9YaepcLCods8k9nSkHW7lcHIuyw0ZcGSoGWR7cVSo/WQ5xW6yHWPvUWPdcPG','gYbdASoEW5nV','W4NdOmoWWPtdI8kyoZC','WRyfWRhcPh9+WRORaNGyWPublYpdTSkHfSkkyJGDW5xdTIniWRddKSkurH/cI8oOvuuoWOVcPr4Vhq5KW6FcPSkEW54OWPWdW67cM8o1WPzPW64UWOG+W6FdTghdI8o6xxuRWOtcVNe0WR/cRYBcRLpdJWZdKaO1eCkJWO7dKrlcVf0dEsHRWRqTjCk1xwfFfmklWRuFe8ktaCkctSonn8k9scZdKg7dMmkhCaHVq8obtcaYW4NdUSkh','wh/cI8oC','Fd3cVmoAWOxdTvtcSey','imk1WOpcICknCSk3','F2VcI8ojyM4LE8oVfUodM+IgJEEvSEwEJW','WQKdkbtdGSoAWO9qWPfQCSoDvwNdImoYpchdRCkHWQPO','W7OIzN7cQG','fhmNxq','WOJcTMxcM8kDW7ZdLq','W49Qs8oQBXBdIa','W59Gx8o/','lmk1WRtdLtBdUfq','uKCbCmkL','WO9LWOpdJmoM','cI3cNCozoMLYiSkStmkavbhdNJnsu0OkWRaFimoWgG','W4GdbK/cT3GpW5JdISkeASkwhw09rI8llSkfdCoTtXNcMG','W5ddSSoGWPldLW','W41Et8oCnYFcHsW','AYJcUSos','W7xdOSk/EHBcQ8okve0','WO46BmoKyrldG8kp','bNZdJd5AsmkhhmkCnColW5i+gq','tNVcJ8orB2GM','W5SGWPe','rmkDkmkg','WPRcJcG','ASoGW7tcIwFcQWhdTmkxWRhcKfCV','zKiiW4ddIGRdVq','bL7dQSkSW7O','W47cTw7cNmkmWP3dGa','BSoJW4RdKmoikCkOW5hcTshcLmkzw8oA','FmkfW4ytW4e','hmkUpq','muhdUCkzW5i','emoTWPb0','qmoFWRqu','WRZdKJuPqSkdkcHjW5u','sCkEdmkqga','W4aiuMVcUW'].concat((function(){return['eN03rq','WR7cTSkgWQddSxS6W4xdJ8o1W4/dQ8ke','W5mbAgiHW5tdU04HW6buWRq','vNVdKYDCq8kw','bcJdISkkodmpECozpCobpG','WQtcHK55p8ktW5pcRc8LW7Glaq','xmkrkmkg','eSk8lJOQ','W4/dPmoUWP85','W4GKWQv5','W53dOCoMWP8I','W4uZzGfTmSooWO7cPmoyWP/cICkXxbxdPu0','W4iyfKy','WQldHcLzjhhcNCofz1C4WO8V','W5OHWOGA','omkIWQhdNa','jNSJF8oMWQPE','W7FcNgSj','W4RdSmo+WPC','BCkfWRldTshdJf4','W77dKXSTtCokWOBdUgW','pmk/WQddGa','fSkaW6bDD8ovWO3cQ8kBWR3cRuiy','pG99EZ9XW6e','W5RdQmo6WPm','W74hWRxcRG','oCk1WRddJZBdTW','WOXWWQFdR8oXW4m','W5RdICoLW4q','W6auma7dLCotWOiGWPDMCmoXx2NdJCk8kxBcSmo8W7CPW7aAv0Pi','W4uNWOOCWP7dH3TOWO8QW7LtW4RdIYLXW7VdLXa7tSkaiG','W45GvCoHFq','bgSJwq','sN/cK8oiA3G','W58XWQnXFCkRWO3dOCkF','D8oTW5/dNq','WQazoWi','WOhdMw4K','fu3cT8o1WP5hrq','WOBdRmo3W5W','lGvPBG','kaT5DG','WO18WRddSCk+W4tdKmkpmmo/WOdcSCoUW5NcNGXqW6ddRw7dOHK','uNFdKX9eumkwma','WOddQmoY','FtdcKG','W5SHWPGb','WRLgWQC','FuycW6BdSq','BSk+W7yWW7yhWRzica','uSoFWRWejmkC','vxFcR8oEWPS','WPLrkZX3WOxdNW','CCoHW4ldLmoDimoJ','WO8CqSoLnSkxu8kUBG4BDCkWAG','WOBcK03cJCkG','WPziW5ve','WPddNMT9BCoEWRK3FbZdHmk7i3/dSNJcMapdHbjPkSk7ad/cVfe','WQm3WRi','W7KZEgtcUW','qIuAsCoVWRjiuW','C8oLW4ddI8oz','W5BdUSoIWQtdISk+oZxcIa','pIbFymoEW4jV','yIJcUSoqWOm','lw7dV8ozwKFdQcS','mmk/WPldKcC','WPbgW4vC'];}()));}()));}());_0x523a=function(){return _0x5514de;};return _0x523a();};function _0x43dd(_0x2e2476,_0x1a9805){var _0x523acf=_0x523a();return _0x43dd=function(_0x43ddc0,_0x588a4f){_0x43ddc0=_0x43ddc0-0x138;var _0x11884b=_0x523acf[_0x43ddc0];if(_0x43dd['AbKmDQ']===undefined){var _0x4c6f3e=function(_0x2d3d1c){var _0x160da7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x95e1f3='',_0x1f251f='';for(var _0x555213=0x0,_0x6d9739,_0x1f78fe,_0x4d1476=0x0;_0x1f78fe=_0x2d3d1c['charAt'](_0x4d1476++);~_0x1f78fe&&(_0x6d9739=_0x555213%0x4?_0x6d9739*0x40+_0x1f78fe:_0x1f78fe,_0x555213++%0x4)?_0x95e1f3+=String['fromCharCode'](0xff&_0x6d9739>>(-0x2*_0x555213&0x6)):0x0){_0x1f78fe=_0x160da7['indexOf'](_0x1f78fe);}for(var _0xa35aff=0x0,_0x183e9c=_0x95e1f3['length'];_0xa35aff<_0x183e9c;_0xa35aff++){_0x1f251f+='%'+('00'+_0x95e1f3['charCodeAt'](_0xa35aff)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1f251f);};var _0x12f34e=function(_0x3676c4,_0x4e822b){var _0x5d0919=[],_0x5d77d5=0x0,_0x30d9c6,_0xb409c9='';_0x3676c4=_0x4c6f3e(_0x3676c4);var _0x5ad2ec;for(_0x5ad2ec=0x0;_0x5ad2ec<0x100;_0x5ad2ec++){_0x5d0919[_0x5ad2ec]=_0x5ad2ec;}for(_0x5ad2ec=0x0;_0x5ad2ec<0x100;_0x5ad2ec++){_0x5d77d5=(_0x5d77d5+_0x5d0919[_0x5ad2ec]+_0x4e822b['charCodeAt'](_0x5ad2ec%_0x4e822b['length']))%0x100,_0x30d9c6=_0x5d0919[_0x5ad2ec],_0x5d0919[_0x5ad2ec]=_0x5d0919[_0x5d77d5],_0x5d0919[_0x5d77d5]=_0x30d9c6;}_0x5ad2ec=0x0,_0x5d77d5=0x0;for(var _0x34c76d=0x0;_0x34c76d<_0x3676c4['length'];_0x34c76d++){_0x5ad2ec=(_0x5ad2ec+0x1)%0x100,_0x5d77d5=(_0x5d77d5+_0x5d0919[_0x5ad2ec])%0x100,_0x30d9c6=_0x5d0919[_0x5ad2ec],_0x5d0919[_0x5ad2ec]=_0x5d0919[_0x5d77d5],_0x5d0919[_0x5d77d5]=_0x30d9c6,_0xb409c9+=String['fromCharCode'](_0x3676c4['charCodeAt'](_0x34c76d)^_0x5d0919[(_0x5d0919[_0x5ad2ec]+_0x5d0919[_0x5d77d5])%0x100]);}return _0xb409c9;};_0x43dd['LmxOBf']=_0x12f34e,_0x2e2476=arguments,_0x43dd['AbKmDQ']=!![];}var _0x446a2c=_0x523acf[0x0],_0x1f686b=_0x43ddc0+_0x446a2c,_0xcef0a6=_0x2e2476[_0x1f686b];return!_0xcef0a6?(_0x43dd['cHxDZh']===undefined&&(_0x43dd['cHxDZh']=!![]),_0x11884b=_0x43dd['LmxOBf'](_0x11884b,_0x588a4f),_0x2e2476[_0x1f686b]=_0x11884b):_0x11884b=_0xcef0a6,_0x11884b;},_0x43dd(_0x2e2476,_0x1a9805);}const tip=_0x3f65f1(0x16e,'@XS*');function showMonthlyPopup(){var _0x53a496=_0x3f65f1,_0x25cabf={'vLPFp':_0x53a496(0x16b,'3*Iw'),'pWgrj':_0x53a496(0x1e2,'pmIh'),'JKFft':_0x53a496(0x18b,'a@ei'),'AyqyH':_0x53a496(0x1ca,'@XS*')};const _0x205402=new Date()[_0x53a496(0x1bd,'JS4Z')](),_0xaa2ad0=$[_0x53a496(0x14f,'PV&M')](_0x25cabf['vLPFp']);(_0xaa2ad0===null||_0xaa2ad0!=_0x205402)&&($[_0x53a496(0x1fe,'EVnd')](_0x25cabf['pWgrj'],'',_0x25cabf[_0x53a496(0x204,'yD#9')],{'open-url':_0x25cabf[_0x53a496(0x1af,'yD#9')]}),$[_0x53a496(0x150,'B$Jg')](_0x205402[_0x53a496(0x176,'fIB3')](),_0x25cabf['vLPFp']));}if($request['url'][_0x3f65f1(0x1e6,'6kd0')](_0x3f65f1(0x1fb,'6kd0'))!==-0x1)(async()=>{var _0x15ca7d=_0x3f65f1,_0x22f377={'HCQAf':_0x15ca7d(0x1d4,'^A2L'),'CvgYM':function(_0x40a499,_0x2d2304){return _0x40a499+_0x2d2304;},'dZnKo':'Kw_MusicKey','gKLsE':function(_0x48128e){return _0x48128e();}},_0x4f28b7=_0x22f377['HCQAf'][_0x15ca7d(0x170,'yD#9')]('|'),_0x573ec4=0x0;while(!![]){switch(_0x4f28b7[_0x573ec4++]){case'0':await $[_0x15ca7d(0x1d1,']Q0u')][_0x15ca7d(0x1c1,'Jfvg')]({'url':_0x22f377[_0x15ca7d(0x1fa,'ApmM')](_0x15ca7d(0x194,'G]^6'),_0x2697af)})['then'](_0x18b577=>{var _0x3a3e62=_0x15ca7d;_0x412173=_0x18b577[_0x3a3e62(0x1b8,'6kd0')];});continue;case'1':$[_0x15ca7d(0x182,'(s13')]({'body':_0x412173});continue;case'2':$[_0x15ca7d(0x1b6,'a@ei')]('',_0x22f377['dZnKo']);continue;case'3':var _0x412173=$response[_0x15ca7d(0x1c6,'(s13')];continue;case'4':_0x22f377[_0x15ca7d(0x16c,'6kd0')](showMonthlyPopup);continue;case'5':var _0x2697af=$[_0x15ca7d(0x19b,'3*Iw')](_0x22f377[_0x15ca7d(0x195,'1fLv')]);continue;}break;}})()[_0x3f65f1(0x13c,'EVnd')](_0x32674a=>console[_0x3f65f1(0x1c7,'q*0)')](_0x3f65f1(0x19e,'xUQl')+_0x32674a));else{if(/a\.p/['test']($request[_0x3f65f1(0x16f,'4d0%')])){var jIYjcM='2|3|0|5|4|1'[_0x3f65f1(0x13f,'a^%%')]('|'),GGXjso=0x0;while(!![]){switch(jIYjcM[GGXjso++]){case'0':var id=match?match[0x1]:null;continue;case'1':body=$response[_0x3f65f1(0x15a,'@XS*')]['replace'](/"type":\d*/g,_0x3f65f1(0x1ef,'Hs(z'))[_0x3f65f1(0x1e7,'cVMO')](/"end":\d*/g,_0x3f65f1(0x1ad,'Hs(z'))[_0x3f65f1(0x14c,'G]^6')](/"period":\d*/g,'\x22period\x22:111')['replace'](/"bought_vip":\d*/g,_0x3f65f1(0x1f3,'Zjw^'))[_0x3f65f1(0x1e7,'cVMO')](/"bought_vip_end":\d*/g,_0x3f65f1(0x152,'QYFO'))[_0x3f65f1(0x1e9,'PV&M')](/"limitfree":\d*/g,'\x22limitfree\x22:1')[_0x3f65f1(0x1ab,'fIB3')](/"playable":\d*/g,'\x22playable\x22:1')[_0x3f65f1(0x1f9,'q*0)')](/"downable":\d*/g,_0x3f65f1(0x1ba,'4d0%'))[_0x3f65f1(0x14c,'G]^6')](/"playright":\d*/g,'\x22playright\x22:1')[_0x3f65f1(0x169,'[Db$')](/"downright":\d*/g,'\x22downright\x22:1')['replace'](/"policytype":\d*/g,_0x3f65f1(0x17a,'klKd'))['replace'](/"policy":\d*/g,'\x22policy\x22:1');continue;case'2':var body=$response[_0x3f65f1(0x159,'QYFO')];continue;case'3':var match=body[_0x3f65f1(0x175,'JcVq')](/id":(\d+)/);continue;case'4':id=$response[_0x3f65f1(0x1ae,'B$Jg')][_0x3f65f1(0x1d7,'nPYI')](/.*?\"id\":(\d+).*/,'$1');continue;case'5':id&&$['setval'](id,'Kw_MusicKey');continue;}break;}}else{if(/music\.pay/['test']($request['url'])){if(method==_0x3f65f1(0x151,'Qi%%')&&$response[_0x3f65f1(0x141,'(OIR')]['includes']('audio')){let obj=JSON['parse']($response[_0x3f65f1(0x201,'UHlB')]);obj[_0x3f65f1(0x1b0,'QYFO')][0x0]['audio']['forEach'](_0x44c669=>{_0x44c669['st']=0x0;}),$['setval'](obj[_0x3f65f1(0x1c2,'ApmM')][0x0]['id'][_0x3f65f1(0x18c,'@XS*')](),'Kw_MusicKey');let audio=obj[_0x3f65f1(0x168,'klKd')][0x0][_0x3f65f1(0x13d,'a^%%')][0x0];obj[_0x3f65f1(0x163,'&aDD')][0x0]={'info':obj['songs'][0x0],'id':obj[_0x3f65f1(0x154,'cVMO')][0x0]['id'],'pid':audio['pid'],'price':audio['price'],'type':audio[_0x3f65f1(0x1b5,'G]^6')],'name':audio['policy']+'_1','categray':audio[_0x3f65f1(0x167,'UHlB')]+'_1','order':0x1666118f,'final':[],'buy':0x62ca4da9,'begin':0x62ca4da9,'end':0xf92a65a9,'CurEnd':0x0,'playCnt':0x0,'playUpper':0x12c,'downCnt':0x0,'downUpper':0x12c,'playVideoCnt':0x0,'playVideoUpper':0xbb8,'downVideoCnt':0x0,'downVideoUpper':0xbb8,'period':0x3e8,'feetype':0x0},body=JSON[_0x3f65f1(0x166,'tnzx')](obj);}}else{if($request[_0x3f65f1(0x1a3,']Q0u')][_0x3f65f1(0x1b9,'a^%%')](_0x3f65f1(0x1fc,'Jfvg'))!=-0x1){var body=$response[_0x3f65f1(0x15a,'@XS*')];body=$response[_0x3f65f1(0x15d,'G]^6')][_0x3f65f1(0x1a1,'6kd0')](/<ad[^>]*>/g,'')[_0x3f65f1(0x138,'Zjw^')](/(<userinfolabel)[^>]*>/g,_0x3f65f1(0x162,'fIB3'));}else{if($request['url'][_0x3f65f1(0x1cc,'QYFO')]('mgxh.s')!=-0x1){var body=$response[_0x3f65f1(0x201,'UHlB')];body=$response[_0x3f65f1(0x14e,']Q0u')]['replace'](/<ad[^>]*>/g,'')[_0x3f65f1(0x1dc,'K[4K')](/(<userinfolabel)[^>]*>/g,_0x3f65f1(0x18a,'Pf2@'));}else{if($request[_0x3f65f1(0x1cf,'pmIh')]['indexOf']('searchrecterm.kuwo.cn')!=-0x1){var body=$response[_0x3f65f1(0x201,'UHlB')],ddgksf2013={'content':[{'query_word':'搜索','desc':''}]};body=JSON['stringify'](ddgksf2013);}else{if($request['url']['indexOf'](_0x3f65f1(0x1e3,'QYFO'))!=-0x1){var body=$response['body'],ddgksf2013=JSON[_0x3f65f1(0x1d8,'d0z9')](body);ddgksf2013[_0x3f65f1(0x19a,'a@ei')]['list']=Object[_0x3f65f1(0x156,'pmIh')](ddgksf2013[_0x3f65f1(0x17b,'$qW[')][_0x3f65f1(0x13b,'1fLv')])[_0x3f65f1(0x1b2,'a@ei')](_0x4f8114=>{var _0x1508d8=_0x3f65f1,_0x38c8ce={'wFEBM':'free','MwrGl':function(_0x42bdd2,_0x57d0c8){return _0x42bdd2!==_0x57d0c8;},'Opiqu':_0x1508d8(0x1d2,'W(YB')};if(_0x4f8114[_0x1508d8(0x1ff,'ApmM')]['includes']('卡'))return![];else{if(_0x38c8ce['MwrGl'](_0x38c8ce[_0x1508d8(0x180,'xUQl')],_0x1508d8(0x1eb,'B$Jg'))){var _0x21ef77=_0x452b18['body'];let _0x2dc642=_0x1848ba[_0x1508d8(0x1ee,'Uhs*')](_0x21ef77);_0x2dc642[_0x1508d8(0x13e,'4N*J')][_0x1508d8(0x196,'zuUd')][_0x1508d8(0x14d,'a^%%')]=_0x38c8ce[_0x1508d8(0x1d9,'(OIR')],_0x2dc642[_0x1508d8(0x181,'Zjw^')]['needBieds']=[],_0x21ef77=_0x237b2d[_0x1508d8(0x1bc,'JS4Z')](_0x2dc642);}else return!![];}}),body=JSON['stringify'](ddgksf2013);}else{if($request['url']['indexOf'](_0x3f65f1(0x185,'(s13'))!=-0x1){var body=$response[_0x3f65f1(0x205,'nPYI')],ddgksf2013=JSON[_0x3f65f1(0x1d8,'d0z9')](body);ddgksf2013[_0x3f65f1(0x1be,'3zC#')]=Object[_0x3f65f1(0x1a9,'yeoR')](ddgksf2013[_0x3f65f1(0x200,'xUQl')])['filter'](_0x2db4e3=>{var _0x5e3949=_0x3f65f1,_0x596d75={'mIugm':_0x5e3949(0x1d5,'^A2L'),'pXUem':function(_0x1b0ea5,_0x2cd192){return _0x1b0ea5!=_0x2cd192;},'ZDkkA':function(_0x5e7f3b,_0x29c83b){return _0x5e7f3b!=_0x29c83b;},'yfWbG':function(_0x14ffb9,_0x16ec01){return _0x14ffb9===_0x16ec01;},'bSFHx':_0x5e3949(0x165,'q*0)')};if(_0x596d75['pXUem'](_0x2db4e3['type'],'AdvertBanner')&&_0x596d75['ZDkkA'](_0x2db4e3['type'],_0x5e3949(0x174,'K[4K')))return!![];else{if(_0x596d75[_0x5e3949(0x203,'1fLv')](_0x596d75['bSFHx'],_0x5e3949(0x1fd,'tnzx'))){var _0x1140a6=_0x499309[_0x5e3949(0x1e8,'cVMO')];_0x1140a6=_0x49cd90['body'][_0x5e3949(0x1f4,'pmIh')](/<ad[^>]*>/g,'')['replace'](/(<userinfolabel)[^>]*>/g,_0x596d75[_0x5e3949(0x1ce,'dkQ1')]);}else return![];}});if(ddgksf2013[_0x3f65f1(0x1f0,'JcVq')]&&ddgksf2013[_0x3f65f1(0x147,'a^%%')][0x0]?.[_0x3f65f1(0x155,'nPYI')]==_0x3f65f1(0x145,'nPYI'))ddgksf2013[_0x3f65f1(0x191,'4d0%')][0x0]['data'][_0x3f65f1(0x177,'PV&M')]=['https://t.me/ddgksf2021'];body=JSON[_0x3f65f1(0x157,'4N*J')](ddgksf2013);}else{if($request[_0x3f65f1(0x1f7,'IAU6')][_0x3f65f1(0x17c,'UHlB')](_0x3f65f1(0x153,'&aDD'))!=-0x1){var body=$response[_0x3f65f1(0x1ae,'B$Jg')],ddgksf2013=JSON['parse'](body);ddgksf2013[_0x3f65f1(0x1e5,'nPYI')]?.[_0x3f65f1(0x164,'W(YB')]?.[_0x3f65f1(0x160,'Zjw^')]&&(ddgksf2013[_0x3f65f1(0x197,'(OIR')]['tab'][_0x3f65f1(0x1da,'PV&M')]=[{'_id':_0x3f65f1(0x1ec,'pmIh'),'title':'会员','type':_0x3f65f1(0x15c,'yeoR'),'description':'会员','topics':[{'mainBgColor':_0x3f65f1(0x18e,'a^%%'),'title':'精选','navId':'63bd4b1002539ab74ca789df','deputyBgColor':_0x3f65f1(0x1e1,'Jfvg'),'url':_0x3f65f1(0x1ed,'(OIR')}]}]),body=JSON[_0x3f65f1(0x1e0,'JcVq')](ddgksf2013);}else{if($request[_0x3f65f1(0x17e,'klKd')][_0x3f65f1(0x186,'[Db$')](_0x3f65f1(0x15f,'B$Jg'))!=-0x1){var body=$response[_0x3f65f1(0x17f,'IAU6')];body=body[_0x3f65f1(0x16a,'Jfvg')](/"url"/g,_0x3f65f1(0x1ea,'nPYI'))['replace'](/last_time":\d+/g,'last_time\x22:0');}else{if(/vip\/v2\/theme/[_0x3f65f1(0x1bb,'yeoR')]($request[_0x3f65f1(0x161,'yeoR')])){var body=$response[_0x3f65f1(0x14a,'PV&M')];let obj=JSON[_0x3f65f1(0x1a8,'QYFO')](body);obj[_0x3f65f1(0x187,'fIB3')][_0x3f65f1(0x196,'zuUd')][_0x3f65f1(0x1ac,'&aDD')]=_0x3f65f1(0x144,'PV&M'),obj[_0x3f65f1(0x181,'Zjw^')][_0x3f65f1(0x149,'3zC#')]=[],body=JSON[_0x3f65f1(0x1f1,'W3]O')](obj);}else{if(/vip\/v2\/userbase\/vip/[_0x3f65f1(0x1f6,'1fLv')]($request[_0x3f65f1(0x189,'yD#9')])){var body=$response[_0x3f65f1(0x1b3,'4d0%')];let obj=JSON[_0x3f65f1(0x172,'Jfvg')](body);obj[_0x3f65f1(0x13e,'4N*J')]?.[_0x3f65f1(0x190,'(s13')]&&(obj[_0x3f65f1(0x1c5,'ApmM')]['vipui']={'vipIcon':_0x3f65f1(0x1db,'B$Jg'),'iconJumpUrl':'http://vip1.kuwo.cn/vip/vue/anPay/pay/index.html?pageType=avip&MBOX_WEBCLOSE=1&FULLHASARROW=1','growthValue':_0x3f65f1(0x1b4,'pmIh'),'vipTag':'VIP6','vipOverSeasExpire':'0','time':_0x3f65f1(0x14b,'UHlB'),'goSvipPage':'1','isNewUser':'1','vipmIcon':_0x3f65f1(0x198,'q*0)'),'svipIcon':_0x3f65f1(0x188,'JS4Z'),'vipmExpire':'4000000000000','biedSong':'0','luxuryIcon':_0x3f65f1(0x179,'W(YB'),'userType':'3','isYearUser':'2','vip3Expire':'0','experienceExpire':'0','luxAutoPayUser':'2','biedAlbum':'1','vipLuxuryExpire':'4000000000000','vipmAutoPayUser':'2','svipAutoPayUser':'2','vipExpire':_0x3f65f1(0x13a,'3zC#'),'svipExpire':_0x3f65f1(0x1f8,'PV&M')}),obj['data']?.[_0x3f65f1(0x143,'&aDD')]&&(obj['data'][_0x3f65f1(0x1bf,'Pf2@')]=_0x3f65f1(0x1de,'W(YB')),body=JSON['stringify'](obj);}else{if(/vip\/v2\/user\/vip/['test']($request['url'])){var body=$response[_0x3f65f1(0x16d,'d0z9')];let obj=JSON[_0x3f65f1(0x1aa,'6kd0')]($response['body']);obj['data'][_0x3f65f1(0x19d,'yeoR')]='2',obj[_0x3f65f1(0x146,'DB4a')][_0x3f65f1(0x1cb,'DB4a')]=_0x3f65f1(0x1f8,'PV&M'),obj[_0x3f65f1(0x1df,'pmIh')][_0x3f65f1(0x158,'Jfvg')]=_0x3f65f1(0x142,'DB4a'),obj[_0x3f65f1(0x178,'d0z9')][_0x3f65f1(0x184,'JcVq')]='2',obj['data'][_0x3f65f1(0x202,'zuUd')]='4000000000000',obj[_0x3f65f1(0x15e,'G]^6')][_0x3f65f1(0x140,'$qW[')]=_0x3f65f1(0x17d,'Jfvg'),obj[_0x3f65f1(0x1be,'3zC#')][_0x3f65f1(0x173,'Uhs*')]=_0x3f65f1(0x18f,'IAU6'),obj[_0x3f65f1(0x193,'1fLv')]['vip3Expire']=_0x3f65f1(0x206,'Qi%%'),body=JSON['stringify'](obj);}else{if(/v2\/api\/pay\/vip\/extraVipStatus/[_0x3f65f1(0x1d3,'dkQ1')]($request[_0x3f65f1(0x1f5,'&aDD')])){var body=$response[_0x3f65f1(0x1c4,'klKd')];let obj=JSON[_0x3f65f1(0x1e4,'yD#9')](body);obj[_0x3f65f1(0x19a,'a@ei')][_0x3f65f1(0x1dd,'Uhs*')]=0x1,body=JSON[_0x3f65f1(0x1d6,'Jfvg')](obj);}else{if(/music\.pay\?uid=.*/['test']($request['url'])){var url=$request[_0x3f65f1(0x1a4,'[Db$')]['replace'](/uid=\d+/g,_0x3f65f1(0x1c0,'EVnd'));$done({'url':url});}else{if(/vip\/enc\/user/[_0x3f65f1(0x1d0,'cVMO')]($request[_0x3f65f1(0x1a6,'zuUd')])){var body=$response['body'];body=_0x3f65f1(0x1c9,'W3]O');}else;}}}}}}}}}}}}}}}$request['url'][_0x3f65f1(0x1a0,'Jfvg')](_0x3f65f1(0x1a5,'pmIh'))==-0x1&&$['done']({'body':body});var version_ = 'jsjiami.com.v7';
# function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e)} isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = [""]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }


***********************************/

const version = 'V1.0.17';

const $ = new Env("KW");
var _0xodN='jsjiami.com.v7';function _0x3cea(_0x35bb9e,_0x2c2859){var _0x3793e2=_0x3793();return _0x3cea=function(_0x3cea1d,_0x19e607){_0x3cea1d=_0x3cea1d-0xf0;var _0x5be8ae=_0x3793e2[_0x3cea1d];if(_0x3cea['eUReoD']===undefined){var _0x1c5967=function(_0x15b594){var _0x59ad9e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5d8d2e='',_0x386390='';for(var _0x94fec4=0x0,_0x3dd166,_0x52a47f,_0x107944=0x0;_0x52a47f=_0x15b594['charAt'](_0x107944++);~_0x52a47f&&(_0x3dd166=_0x94fec4%0x4?_0x3dd166*0x40+_0x52a47f:_0x52a47f,_0x94fec4++%0x4)?_0x5d8d2e+=String['fromCharCode'](0xff&_0x3dd166>>(-0x2*_0x94fec4&0x6)):0x0){_0x52a47f=_0x59ad9e['indexOf'](_0x52a47f);}for(var _0xb3bd3d=0x0,_0x54f0ab=_0x5d8d2e['length'];_0xb3bd3d<_0x54f0ab;_0xb3bd3d++){_0x386390+='%'+('00'+_0x5d8d2e['charCodeAt'](_0xb3bd3d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x386390);};var _0x32ba54=function(_0x53075d,_0x365aba){var _0x202c57=[],_0x521ad0=0x0,_0x573afe,_0x22a19c='';_0x53075d=_0x1c5967(_0x53075d);var _0x139f93;for(_0x139f93=0x0;_0x139f93<0x100;_0x139f93++){_0x202c57[_0x139f93]=_0x139f93;}for(_0x139f93=0x0;_0x139f93<0x100;_0x139f93++){_0x521ad0=(_0x521ad0+_0x202c57[_0x139f93]+_0x365aba['charCodeAt'](_0x139f93%_0x365aba['length']))%0x100,_0x573afe=_0x202c57[_0x139f93],_0x202c57[_0x139f93]=_0x202c57[_0x521ad0],_0x202c57[_0x521ad0]=_0x573afe;}_0x139f93=0x0,_0x521ad0=0x0;for(var _0x219c54=0x0;_0x219c54<_0x53075d['length'];_0x219c54++){_0x139f93=(_0x139f93+0x1)%0x100,_0x521ad0=(_0x521ad0+_0x202c57[_0x139f93])%0x100,_0x573afe=_0x202c57[_0x139f93],_0x202c57[_0x139f93]=_0x202c57[_0x521ad0],_0x202c57[_0x521ad0]=_0x573afe,_0x22a19c+=String['fromCharCode'](_0x53075d['charCodeAt'](_0x219c54)^_0x202c57[(_0x202c57[_0x139f93]+_0x202c57[_0x521ad0])%0x100]);}return _0x22a19c;};_0x3cea['XSgqpP']=_0x32ba54,_0x35bb9e=arguments,_0x3cea['eUReoD']=!![];}var _0x3a565b=_0x3793e2[0x0],_0x5677a2=_0x3cea1d+_0x3a565b,_0x4df95b=_0x35bb9e[_0x5677a2];return!_0x4df95b?(_0x3cea['ikZXYq']===undefined&&(_0x3cea['ikZXYq']=!![]),_0x5be8ae=_0x3cea['XSgqpP'](_0x5be8ae,_0x19e607),_0x35bb9e[_0x5677a2]=_0x5be8ae):_0x5be8ae=_0x4df95b,_0x5be8ae;},_0x3cea(_0x35bb9e,_0x2c2859);}function _0x3793(){var _0x1b3e74=(function(){return[_0xodN,'JYjUsJgXjVLeiYamRi.kcomHe.NTevd7lfOPLKFl==','W5mAyW','W5e0WPZdHG','W4PtWOLNW4ldQCoiWONcSW','W75BWQ7cVXa','W69bWRr2W6xdK8olWPNcSCkLW4lcSW50','tKnzWRa','W6CHodBdGNXvFCozdmoQW55lW4G','W4BcVSkAnW','WRvUq0Oy','FbL9W7rBBmkfhhpcRhrvnCoBeg9uiNSCta','Eb5vWOW','W6PZdhzlW4xdUb7cHG','s8oNW7/cO8kMW5ddLCoDWQhcU8o3Eq','ldVdStbfWOJcGsyue0a','W7vYA1ZdGr1zAL3dJSo7WQXyAcpdQr92WOjUnCksbcdcJ3bvAW5NW452WQRdImkFk8otiZFcPaH9WOpcOmopWP3dKmkmm1xcGdjZWOrNW4/dISkbaWuDoSkYW45SWQiVWQu','DCk8uY3dRSoIW6a','W55Wsmkp','xKLnWQxcHw3cJq','WRjJxbi','WQT7t2mwW57cPqtdJW','hg/cILFdStOaWPewW7Lbxuq','w2dcS8oOW7ldHSobWRBcOhddSmofgq','W5KyW5uG','DmkQwmkFn0KTcgT+WPi8ga','rSoKWP1pq2NdH8kP','WODxvZFdVW','W5BcRmkBpW','W6LyWRfHomoTcq','W63dQSkgEWvmBHhcT8kSW5zMWRi','oCoOW7pcHG','Eu/cO8oRW4xdNmkfWPhdPdnBW4rKWQNdLmkDqSk0F1FcMCoUESk1WRS','W5rawa','WR3cU8ockG','hCkdWRxdNv3dVCoO','oNZcR2SvWQ/cLw1NBa','W7RcIM7cPSkIWOOx','FHbfWPq','W4ZdMYZdNSknya','Bmoet8o8zSoWW5C','W5/dGcW','gtSvmmou','W5D2rmkgbIBcTGjPW4Wfu8oSoG','W6RdQmkbFG1mlvxdVCoWWPmM','umkXfCo2ic5ZlCkSECov','W47dKZtdIW','W6NdTSoDW4S','W7NdVmojW55BW43cLa','WR9rr3SiumkwWRmcW7utu8kmFca9W5dcImkYWOxcSK1d','W7nZhG3dJfDqAq','WOlcTCogi8oQWO45W5vg','WOBdVCoFBJuBW4tdP33dM8oaW67cRW','W69sWPj5k8oNaSkb','WQZcQmoA','W4a+WOZdIuLB','WQnCq24','WPCbpYddSa','W6jrWOJcUGhdItG','nMzmWOi','fmoNvSkYFa','W7fZz3pcLsqreSkFvCkQW4Xb','bXLGDCk8WOu+WQ9asmoSd8ol','WPvAomo2W5VdKZFdOCkGCCkLqG','W6xdOCoR','imkzWOieWOHOW4nJFdZdSGq','WOy2iZFdIxfhs8oCdEodToIeLUEuQowFIq','W5irF8kM','gJxdQ8kq'].concat((function(){return['WPBcN8kcW7yEsW','W6hdT8ohtWO','W4uYWOJdULbhWORdNGa','W6G6WOFcHtBdJuxcT8oCnCofosm9','CmkqWP02WRi','W5NdLZtdJSkjzSon','W5qnF8kVWOlcGce','actdR8kmoK7cSa','W43dLZq','WRTIehShWPJcPuddJJ3dIfC3WRLYqW','WPtcM8kDW7C','WOJcISkAW7miaSkBo8kyaJhcJwGnWQFdNuNcN8o1WP7dOSoAESkUW4uyW5dcS8oAW7q1Dd7dRInRW4ZcRuVdKmklimoRWQpcLZJdMmkHW6hcVHlcTe0vW5TICd4fW7VdTfbUoZ0d','nmooWO8xW5jRWPa/ksZdVqypw0zhuSkNxrC7WQRdPqy','ACkiWPOCWPzOW5GGB3FcUbHcw0zFfSkLw0uSW7ddPaXUqa','exWccCkU','W5NcHNBcRmkM','aCkFWR0','aCo4vSovgCo0W6W','fIddQ8kb','cZhdT8k5','W5buWRvRW5VdM8osWORcUa','W7JcUCksWR/cVG','W4WlW6RcTZpcU8oKcGKfD8orq1HlW6FcUtnTsSoYWRC','heq/j8oLWPT9','wYxdKq','W7HaWOZcPHpcKhi7nCkMp1LtW65TWP8yfd/dVf/dK8onW5ddMSkMn8kLDCoxWPldJX0Ev8oYaCo9AqDuxKNdI8oRW6hcISkaD8ojW5tcU8ovWQbVWRpcMCoGFSo6cSkDW7tcPmo1zqbBuKhcMH7cS8otWPdcS0lcQCofFSkuWQ/dGXdcJb3dS8oBwSoGW6j1zmoggrddNmkGyCkIo8kpyhlcUt3dTSo0meddN8ksWRddVfO0W4ZdP8kqcmo0W5PhWPHGWOe6xmoQwbxdRXddOmkRpa','W6K1W5abiG','W4ddUmkmESk3W59MW4n4W5RcSuDp','gCkmWQxdM00','EeJcJSo+W5FcLmo/W43dRg8','q8oYFCopfq','WOn9CuOY','pSkmsSkLWQddLCk+','sSkLWORdOCoNWRtdQW','emkWWQldQG','q3tcQ8ouBXNdOe8dW6hdPCoxsq','W57dLZpdNG','W5ZdMZddVSkaD8obWRS','W4GlW7NcI2tcOmo0dG','eSoVvmoYxbjUlCkxuG','W6pdPCo5ra3cNmo9','W57cRmoBkmoTW4CJ','WRvkv3i','WRtdVxeu','WQrPsX8','W6zzbNDlfSknW6bfWQDm','W5KkW6ieFq','WRbar0yubmonW7q','wuvzW7tdKG','p8kOvCkxjNiT','o0WSWRyinmohssddQcexAa','fSk+WRldSG','AazrWOG','W4SqW6u','aSoVsmk1FbG','WQ3cUSk7B29OWQC','W40hW73cQxZcVa','W48sW4iT','W6xdS8o8qq','WQjFWQhcVWNdKcC','W7pdR8oTuq','dCoOqmkKysv4','WPyycMddOG','WRPar2mudG','bJWbimofcgy','w8o2WP0','AbJdJW','W5eqWOJdVKS','WRaXoW'].concat((function(){return['WOzzudhcQ8omWPX5aM04h8k2','hZ/dR8kXWQhcJW','BhxcSgi','W542W4qgwq','Bmk8WRpdKYDeWOXvhJnxWPy7','aZSwmq','W65WDLW','mSkNrCkt','W5JcNw4','W5y+WOtcNqFdGva','W6rBWQVcOHldGZnZ','W69yWRj5','W6neWPtcVXq','W4BdNsC','W68SWQVcVbpdKvZcOCoNhCot','W5TdWQFcMXxdMtr3e8kSja','BWTtWOqfWQVdMaDU','oSkVqSkg','W5H+wmkx','zuvAWQ0YdI0','ySkxCSk2','m8kVWQZdNCo5','fhldT8kXWQ/cK8kcW7ldSs3cSmoxeXxdRw7cPvHhWQHzW6ddHYxdNubDWO/cLCoAgSobbWbey27dRSkGWO8mc8kxWRmNW50hW6NdMCkzdh5wh3xdH2fchwhdGCoEdq7cPmk6WPdcImk8WQmzW7xdRx1+WQqOy8kdW4pcL8oQWOZcM8kXWRdcR2pcUH7cNCkXrmogmCoEpSo7WQK/fLariGhcGhtdKZtdU8ovW5uIWOTUzmogWRShW5FdLCk8WRVcRCoGnYvD','W58yW5y4aSoMWRu','dIxdP8kXWQ0','s8o4WPfF','WRTJewHlW5ddUb/cL3JdMf0/','CCksWOmuWPu','W7TOgMy','evK1n8oLW5PQWR1ksCoTdG','umk/hmoWlLWVpmkivCobaha','dt0bpa','WOVdMKvhg8o0WQS','yrL5W6j6BCkshwm','W54nW4O9fW','ASkjWPKdW5WMWO55Cg7dUrTDt1mFsmkNuG91W7RdSu90rMzvW7FcSLJdVfpdLmoPeupdP8oTW4FdTCozWPbPWPVdJqJdKr3dOZ9pW4BcSSouvmoRz8kKW4aut8kykmowWRTLCuxcRhOksmkTm8kJW77dR3yCW6FcOmkUW4/dISk1ltuipZRdVYq','DvRcO8o6','Aq1n','BSo1WRpcMYemWOL4zW0V','W4SlW63dOIS','W4yOWP3dJq','CCk8rre','WPaqbghdPCkiW4rMb3T5tmou','WO/cJw3cTCkKWPagWQ5AW5/cVx4sWQnjW4LMWQJdUCkRWRe7WOzMW4DqAa','W5/cQSkxnITy','W7fZcM9wWPJcVLFcIYlcLWiHW6SVehbXW5P2pmoCW4q','W7rvWOZcTW','BSoatCoJyG','W5ffWRDUW5tdN8oE','W5FcL8kmWQ8','smoit8otzSoHW5y','W7ZdRSo6mJ86W7m','f2/cHfFdSJTeWPmmW4TgAG','imknWOiFWO9QW5H7yg7cRrCmcW','W5aYWPNcLa','W5C0WPRcLHu','ASolW6xcQxG6W5q','WPDQW4y','W4K4W54a','bmk+WQRdPSo3WPi','6iAk5PYy5yA16lEV5lYF55Ac772r5PsI6lwH6kY+5lMJ5OQv7728','W6/dUmonW5m','W4tcGwBcPCk7WRCu','o2LBWO8SicxdIq','WPlcM8kEW68Aw8or','W7LPCuK'];}()));}()));}());_0x3793=function(){return _0x1b3e74;};return _0x3793();};var _0x892a2a=_0x3cea;(function(_0x140c67,_0x284fc5,_0x3f45d5,_0x3c984f,_0x4eb5b1,_0x39bf42,_0x1b0d01){return _0x140c67=_0x140c67>>0x1,_0x39bf42='hs',_0x1b0d01='hs',function(_0x39375d,_0x114e1c,_0x9bef31,_0x2cfd2b,_0x4a7892){var _0x53c12b=_0x3cea;_0x2cfd2b='tfi',_0x39bf42=_0x2cfd2b+_0x39bf42,_0x4a7892='up',_0x1b0d01+=_0x4a7892,_0x39bf42=_0x9bef31(_0x39bf42),_0x1b0d01=_0x9bef31(_0x1b0d01),_0x9bef31=0x0;var _0x56cbd5=_0x39375d();while(!![]&&--_0x3c984f+_0x114e1c){try{_0x2cfd2b=parseInt(_0x53c12b(0xfc,'7i@8'))/0x1*(parseInt(_0x53c12b(0x144,'IHG9'))/0x2)+-parseInt(_0x53c12b(0x104,'OTNc'))/0x3+-parseInt(_0x53c12b(0x12d,'^ndb'))/0x4+parseInt(_0x53c12b(0x156,'Shy8'))/0x5+-parseInt(_0x53c12b(0x14e,'WkEr'))/0x6*(parseInt(_0x53c12b(0x1b0,']#AL'))/0x7)+-parseInt(_0x53c12b(0x154,'7i@8'))/0x8*(-parseInt(_0x53c12b(0x196,'Bdz*'))/0x9)+-parseInt(_0x53c12b(0x120,'qX$g'))/0xa*(-parseInt(_0x53c12b(0x11b,'Bdz*'))/0xb);}catch(_0x216fd2){_0x2cfd2b=_0x9bef31;}finally{_0x4a7892=_0x56cbd5[_0x39bf42]();if(_0x140c67<=_0x3c984f)_0x9bef31?_0x4eb5b1?_0x2cfd2b=_0x4a7892:_0x4eb5b1=_0x4a7892:_0x9bef31=_0x4a7892;else{if(_0x9bef31==_0x4eb5b1['replace'](/[JLkKNVYFXfTlHgROeUPd=]/g,'')){if(_0x2cfd2b===_0x114e1c){_0x56cbd5['un'+_0x39bf42](_0x4a7892);break;}_0x56cbd5[_0x1b0d01](_0x4a7892);}}}}}(_0x3f45d5,_0x284fc5,function(_0xb65e09,_0x12d427,_0x1176d9,_0x5a5a60,_0x7bd497,_0x219580,_0x29f0ed){return _0x12d427='\x73\x70\x6c\x69\x74',_0xb65e09=arguments[0x0],_0xb65e09=_0xb65e09[_0x12d427](''),_0x1176d9='\x72\x65\x76\x65\x72\x73\x65',_0xb65e09=_0xb65e09[_0x1176d9]('\x76'),_0x5a5a60='\x6a\x6f\x69\x6e',(0x1b4908,_0xb65e09[_0x5a5a60](''));});}(0x184,0x7c1af,_0x3793,0xc4),_0x3793)&&(_0xodN=_0x3793);let method=$request[_0x892a2a(0x172,'tuPM')];const tip='sha\x20gou,\x20you\x20lai\x20tou\x20dai\x20ma';function showMonthlyPopup(){var _0x5dc631=_0x892a2a,_0x141aa7={'JeaEN':function(_0x327c58,_0x40d2ba){return _0x327c58===_0x40d2ba;},'rgbVL':function(_0x5e5f06,_0xdeee67){return _0x5e5f06!=_0xdeee67;},'MAzio':_0x5dc631(0x1a5,'@^yS')};const _0x42f7d4=new Date()[_0x5dc631(0x162,'tuPM')](),_0x15af3e=$['getval'](_0x5dc631(0xf4,')9wO'));(_0x141aa7['JeaEN'](_0x15af3e,null)||_0x141aa7['rgbVL'](_0x15af3e,_0x42f7d4))&&($['msg'](_0x5dc631(0x130,'qX$g'),'',_0x5dc631(0x1b4,'XDDM'),{'open-url':_0x141aa7[_0x5dc631(0x148,'utC8')]}),$['setval'](_0x42f7d4[_0x5dc631(0x182,'XDDM')](),_0x5dc631(0x136,'WQX3')));}if($request[_0x892a2a(0xf0,'^ndb')]['indexOf'](_0x892a2a(0x14a,'Q(Bn'))!==-0x1)(async()=>{var _0x3056f7=_0x892a2a,_0x7ed904={'RBhcU':_0x3056f7(0x160,'tuPM'),'CBLZK':_0x3056f7(0x14c,'XDDM'),'pwNgf':function(_0x34a28f){return _0x34a28f();},'bKpAc':_0x3056f7(0x186,'WQX3')},_0x535d5f=_0x7ed904[_0x3056f7(0x127,'qX$g')]['split']('|'),_0x1c5c01=0x0;while(!![]){switch(_0x535d5f[_0x1c5c01++]){case'0':await $[_0x3056f7(0x132,'Shy8')][_0x3056f7(0x13b,'0E#E')]({'url':_0x7ed904['CBLZK']+_0x4901c5})['then'](_0x39bf9c=>{_0x516071=_0x39bf9c['body'];});continue;case'1':var _0x516071=$response[_0x3056f7(0x114,'zJO*')];continue;case'2':$[_0x3056f7(0x1b9,'kD0i')]({'body':_0x516071});continue;case'3':_0x7ed904[_0x3056f7(0x134,'HuvR')](showMonthlyPopup);continue;case'4':$[_0x3056f7(0x138,'0E#E')]('',_0x7ed904[_0x3056f7(0x176,'aRcw')]);continue;case'5':var _0x4901c5=$['getval'](_0x7ed904[_0x3056f7(0xf8,'tuPM')]);continue;}break;}})()['catch'](_0x1f6f7d=>console[_0x892a2a(0x185,'0E#E')]('error:\x20'+_0x1f6f7d));else{if(/a\.p/[_0x892a2a(0x106,'@pPX')]($request[_0x892a2a(0x19d,'zJO*')])){var iZdhkv=_0x892a2a(0x19e,']#AL')[_0x892a2a(0x184,'XDDM')]('|'),CbZHhn=0x0;while(!![]){switch(iZdhkv[CbZHhn++]){case'0':id&&$[_0x892a2a(0x125,'aRcw')](id,'Kw_MusicKey');continue;case'1':body=$response[_0x892a2a(0x18a,'sgD7')][_0x892a2a(0x1a8,')9wO')](/"type":\d*/g,'\x22type\x22:2')[_0x892a2a(0x11e,'HYHv')](/"end":\d*/g,_0x892a2a(0x13c,'@^yS'))[_0x892a2a(0x116,'I*TK')](/"period":\d*/g,_0x892a2a(0x195,'Q(Bn'))[_0x892a2a(0x101,'NEb&')](/"bought_vip":\d*/g,_0x892a2a(0xf6,'qX$g'))[_0x892a2a(0x128,'XDDM')](/"bought_vip_end":\d*/g,_0x892a2a(0x1a3,'Fu0Q'))['replace'](/"limitfree":\d*/g,_0x892a2a(0x107,'*W*%'))['replace'](/"playable":\d*/g,'\x22playable\x22:1')[_0x892a2a(0x16a,'yzoC')](/"downable":\d*/g,_0x892a2a(0x12f,'SbfJ'))['replace'](/"playright":\d*/g,_0x892a2a(0x178,'1iqk'))[_0x892a2a(0x181,'WQX3')](/"downright":\d*/g,_0x892a2a(0x192,'@^yS'))[_0x892a2a(0x1b8,'KRda')](/"policytype":\d*/g,_0x892a2a(0x1ad,'SbfJ'))['replace'](/"policy":\d*/g,_0x892a2a(0x112,'oBjy'));continue;case'2':var id=match?match[0x1]:null;continue;case'3':var body=$response[_0x892a2a(0x197,'Z#4H')];continue;case'4':var match=body[_0x892a2a(0x14f,'!Jg1')](/id":(\d+)/);continue;case'5':id=$response[_0x892a2a(0x1a1,'Ss[Z')][_0x892a2a(0x15b,'HuvR')](/.*?\"id\":(\d+).*/,'$1');continue;}break;}}else{if(/music\.pay/[_0x892a2a(0x102,'Zq%y')]($request['url'])){if(method=='POST'&&$response[_0x892a2a(0xf1,'aRcw')]['includes']('audio')){let obj=JSON[_0x892a2a(0x151,'IHG9')]($response[_0x892a2a(0xf1,'aRcw')]);obj['songs'][0x0][_0x892a2a(0x190,'7Q6Y')][_0x892a2a(0xff,'Ss[Z')](_0x1551c1=>{_0x1551c1['st']=0x0;}),$[_0x892a2a(0x16b,'8&Dt')](obj['songs'][0x0]['id'][_0x892a2a(0x123,'srrJ')](),_0x892a2a(0x187,'XDDM'));let audio=obj[_0x892a2a(0x17b,'Rwpd')][0x0]['audio'][0x0];obj[_0x892a2a(0x1a0,'aRcw')][0x0]={'info':obj[_0x892a2a(0x193,'SbfJ')][0x0],'id':obj[_0x892a2a(0x1af,'WQX3')][0x0]['id'],'pid':audio[_0x892a2a(0x10f,'1iqk')],'price':audio['price'],'type':audio['policy'],'name':audio['policy']+'_1','categray':audio[_0x892a2a(0x179,'7Q6Y')]+'_1','order':0x1666118f,'final':[],'buy':0x62ca4da9,'begin':0x62ca4da9,'end':0xf92a65a9,'CurEnd':0x0,'playCnt':0x0,'playUpper':0x12c,'downCnt':0x0,'downUpper':0x12c,'playVideoCnt':0x0,'playVideoUpper':0xbb8,'downVideoCnt':0x0,'downVideoUpper':0xbb8,'period':0x3e8,'feetype':0x0},body=JSON[_0x892a2a(0xfb,'@^yS')](obj);}}else{if($request[_0x892a2a(0x177,'qX$g')][_0x892a2a(0x173,'Z#4H')](_0x892a2a(0x119,'sgD7'))!=-0x1){var body=$response['body'];body=$response['body'][_0x892a2a(0x10b,'srrJ')](/<ad[^>]*>/g,'')['replace'](/(<userinfolabel)[^>]*>/g,_0x892a2a(0x175,'*[He'));}else{if($request[_0x892a2a(0x117,'0E#E')][_0x892a2a(0x170,'Bdz*')](_0x892a2a(0x1a4,'F$Rz'))!=-0x1){var body=$response[_0x892a2a(0x15d,'tuPM')];body=$response[_0x892a2a(0x194,'@^yS')]['replace'](/<ad[^>]*>/g,'')[_0x892a2a(0x139,'^ndb')](/(<userinfolabel)[^>]*>/g,_0x892a2a(0x1b1,'aRcw'));}else{if($request['url'][_0x892a2a(0x164,'*W*%')](_0x892a2a(0xf9,'bzh%'))!=-0x1){var body=$response[_0x892a2a(0x11d,'HYHv')],ddgksf2013={'content':[{'query_word':'搜索','desc':''}]};body=JSON[_0x892a2a(0x147,')9wO')](ddgksf2013);}else{if($request[_0x892a2a(0x124,'&b4d')][_0x892a2a(0x111,'!Jg1')]('kuwopay/personal/cells')!=-0x1){var body=$response[_0x892a2a(0x16f,'HuvR')],ddgksf2013=JSON[_0x892a2a(0x12a,'Bdz*')](body);ddgksf2013[_0x892a2a(0x146,'7Q6Y')][_0x892a2a(0x17d,'Z#4H')]=Object[_0x892a2a(0x1b3,'7i@8')](ddgksf2013[_0x892a2a(0x18c,'B^OG')][_0x892a2a(0x189,'*W*%')])[_0x892a2a(0x169,'Bdz*')](_0x29f6b5=>{var _0x2abb57=_0x892a2a,_0x291660={'JQfkG':_0x2abb57(0x143,'!Jg1'),'rmpET':_0x2abb57(0x13a,'Shy8'),'DHvUA':_0x2abb57(0x163,'NEb&'),'AQxQN':function(_0x1342d5,_0x3d9d52){return _0x1342d5(_0x3d9d52);},'tSHeW':'ETpQw','TxWJp':_0x2abb57(0x152,'tuPM')};if(_0x29f6b5[_0x2abb57(0x142,'Fu0Q')][_0x2abb57(0x1b7,'z65i')]('卡'))return![];else{if(_0x291660[_0x2abb57(0x161,'Rwpd')]===_0x291660['TxWJp']){var _0x2a2963=_0x3cb2a8[_0x291660['JQfkG']][_0x291660[_0x2abb57(0x137,'SbfJ')]](/uid=\d+/g,_0x291660[_0x2abb57(0x14d,'@pPX')]);_0x291660[_0x2abb57(0x109,'Zq%y')](_0x2917ed,{'url':_0x2a2963});}else return!![];}}),body=JSON['stringify'](ddgksf2013);}else{if($request[_0x892a2a(0x180,'Fu0Q')][_0x892a2a(0x198,'1Kjx')](_0x892a2a(0x140,'SbfJ'))!=-0x1){var AibmAE=_0x892a2a(0x103,'@^yS')[_0x892a2a(0x19a,'@pPX')]('|'),TEUDJQ=0x0;while(!![]){switch(AibmAE[TEUDJQ++]){case'0':body=JSON['stringify'](ddgksf2013);continue;case'1':var ddgksf2013=JSON['parse'](body);continue;case'2':var body=$response[_0x892a2a(0x18a,'sgD7')];continue;case'3':ddgksf2013[_0x892a2a(0x19c,'q3oI')]=Object[_0x892a2a(0x133,'KRda')](ddgksf2013[_0x892a2a(0x110,'&b4d')])[_0x892a2a(0x115,'0E#E')](_0x4fc3e9=>{var _0x378806=_0x892a2a,_0x4aee76={'ApjNk':function(_0x15237b,_0x5a70c1){return _0x15237b!=_0x5a70c1;},'WqHHw':'AdvertBanner','xVUeS':_0x378806(0x113,'Fu0Q')};if(_0x4aee76['ApjNk'](_0x4fc3e9[_0x378806(0x17a,'oBjy')],_0x4aee76['WqHHw'])&&_0x4aee76[_0x378806(0x18d,'7i@8')](_0x4fc3e9[_0x378806(0x131,'^ndb')],_0x4aee76['xVUeS']))return!![];else return![];});continue;case'4':if(ddgksf2013['data']&&ddgksf2013[_0x892a2a(0x166,'7i@8')][0x0]?.[_0x892a2a(0x167,'zJO*')]==_0x892a2a(0x1aa,'I*TK'))ddgksf2013['data'][0x0][_0x892a2a(0x129,'z65i')][_0x892a2a(0xf3,'XDDM')]=[_0x892a2a(0x11f,'tuPM')];continue;}break;}}else{if($request['url'][_0x892a2a(0x198,'1Kjx')]('kuwopay/vip-tab/setting')!=-0x1){var body=$response['body'],ddgksf2013=JSON['parse'](body);ddgksf2013['data']?.[_0x892a2a(0x174,'xVEv')]?.[_0x892a2a(0x159,'8&Dt')]&&(ddgksf2013['data'][_0x892a2a(0x12e,'HuvR')]['vipTypes']=[{'_id':'63bd4b1002539ab74ca789df','title':'会员','type':_0x892a2a(0x17e,'kD0i'),'description':'会员','topics':[{'mainBgColor':'#3C2D08','title':'精选','navId':_0x892a2a(0x13f,'SbfJ'),'deputyBgColor':_0x892a2a(0x1ab,'yzoC'),'url':_0x892a2a(0x10e,'q3oI')}]}]),body=JSON['stringify'](ddgksf2013);}else{if($request['url'][_0x892a2a(0x1b6,'Fu0Q')](_0x892a2a(0x149,'8&Dt'))!=-0x1){var body=$response[_0x892a2a(0x1a9,'utC8')];body=body['replace'](/"url"/g,_0x892a2a(0x141,'Q(Bn'))[_0x892a2a(0x101,'NEb&')](/last_time":\d+/g,'last_time\x22:0');}else{if(/vip\/v2\/theme/['test']($request['url'])){var body=$response[_0x892a2a(0x16c,'@pPX')];let obj=JSON['parse'](body);obj[_0x892a2a(0x1b5,'HYHv')][_0x892a2a(0x158,'0E#E')][_0x892a2a(0x126,'tuPM')]='free',obj[_0x892a2a(0x129,'z65i')][_0x892a2a(0x199,'bzh%')]=[],body=JSON['stringify'](obj);}else{if(/vip\/v2\/userbase\/vip/['test']($request[_0x892a2a(0x124,'&b4d')])){var body=$response['body'];let obj=JSON['parse'](body);obj[_0x892a2a(0x17f,'*W*%')]?.[_0x892a2a(0x118,'Z#4H')]&&(obj[_0x892a2a(0x145,'Shy8')]['vipui']={'vipIcon':'https://image.kuwo.cn/fe/f2d09ac0-b959-404f-86fa-dc65c715c0e96.png','iconJumpUrl':_0x892a2a(0x19b,'SbfJ'),'growthValue':_0x892a2a(0x171,'1iqk'),'vipTag':_0x892a2a(0x15e,'1Kjx'),'vipOverSeasExpire':'0','time':'4000000000000','goSvipPage':'1','isNewUser':'1','vipmIcon':'https://image.kuwo.cn/fe/34ad47f8-da7f-43e4-abdc-e6c995666368yyb.png','svipIcon':_0x892a2a(0x13e,'KRda'),'vipmExpire':_0x892a2a(0x12b,'qX$g'),'biedSong':'0','luxuryIcon':_0x892a2a(0xfe,'kD0i'),'userType':'3','isYearUser':'2','vip3Expire':'0','experienceExpire':'0','luxAutoPayUser':'2','biedAlbum':'1','vipLuxuryExpire':_0x892a2a(0x105,'7Q6Y'),'vipmAutoPayUser':'2','svipAutoPayUser':'2','vipExpire':_0x892a2a(0x122,'F$Rz'),'svipExpire':_0x892a2a(0x10c,'&b4d')}),obj['data']?.[_0x892a2a(0xf7,'F$Rz')]&&(obj[_0x892a2a(0xfa,'zJO*')][_0x892a2a(0x16d,'HuvR')]=_0x892a2a(0x18e,'7Q6Y')),body=JSON[_0x892a2a(0x121,'WkEr')](obj);}else{if(/vip\/v2\/user\/vip/[_0x892a2a(0x13d,'KRda')]($request[_0x892a2a(0x168,'8&Dt')])){var body=$response['body'];let obj=JSON[_0x892a2a(0x1a7,'I*TK')]($response[_0x892a2a(0xf5,'NEb&')]);obj[_0x892a2a(0x10d,']#AL')][_0x892a2a(0xf2,')9wO')]='2',obj[_0x892a2a(0x100,'sgD7')]['vipLuxuryExpire']=_0x892a2a(0x165,'bzh%'),obj[_0x892a2a(0x10a,'F$Rz')][_0x892a2a(0x1ae,'WQX3')]='1961170340993',obj[_0x892a2a(0x1b2,'Rwpd')][_0x892a2a(0x150,'q3oI')]='2',obj[_0x892a2a(0x110,'&b4d')]['vipmExpire']=_0x892a2a(0x12c,'Q(Bn'),obj[_0x892a2a(0x1a6,'XDDM')]['vipOverSeasExpire']='4000000000000',obj[_0x892a2a(0x11c,'0E#E')][_0x892a2a(0x135,'aRcw')]='4000000000000',obj[_0x892a2a(0x17f,'*W*%')][_0x892a2a(0x15a,'Bdz*')]=_0x892a2a(0x12c,'Q(Bn'),body=JSON[_0x892a2a(0xfb,'@^yS')](obj);}else{if(/v2\/api\/pay\/vip\/extraVipStatus/[_0x892a2a(0x183,'srrJ')]($request['url'])){var body=$response[_0x892a2a(0x155,'7i@8')];let obj=JSON['parse'](body);obj['data'][_0x892a2a(0x108,'xVEv')]=0x1,body=JSON[_0x892a2a(0x188,'zJO*')](obj);}else{if(/music\.pay\?uid=.*/['test']($request[_0x892a2a(0xf0,'^ndb')])){var url=$request['url'][_0x892a2a(0x18f,'@pPX')](/uid=\d+/g,_0x892a2a(0x19f,'8&Dt'));$done({'url':url});}else{if(/vip\/enc\/user/[_0x892a2a(0x157,'0E#E')]($request['url'])){var body=$response[_0x892a2a(0x15f,'Zq%y')];body='Vo4m6X2hTph/vfpPmau8PTT0sFN6JCgzxSLVH/u3sbEt7VniYsVHbRFgOgN+Uvs39rAI7R3C5HVpaSj8tr8U8dLYwYdDCjMILuUorh3z0BiQToiWxudHkcASIPHNrmZHZYC/yv3DP4b89hbzfqU5UUDUqaZpEBZr76sDF2wNPmYjUEFSVCMGyTl1F6j1DBmKJ1Tik0YuG/2UBa/Ilz12a1KneXsNs5x5EE41bXDke7EygIB3I+6SoITZXOLFAFQFZujdI0GzClNglDKtclpUxpjN3uVeJxHLU40FTwNWo3ZDNv8KSdZpYZ5BDEOCyZkifmHlf1wnocX2zTr2xRAM6JhAD2WaSSNQQVJUI5lv72QNZSN43Pj/qdzatHQP4Pp/H1YxyP36rv3qBcnnJy/55YouIczRc3eJjXExRgo54qdyTYRMYoS9GzNn/edR3hSNnMn9PnElBCfZhkL0R5kZ9JBFCM3vNOy7Cnp6RVyAG0GFHv/g2q1yqkJxibyDro5nlnnvHjhZrsOvSvTXI1BBUlQjGoRqqCTDUvHLoiNwWMoKKfxtswWQiXjoQ6mL5dazxjUsbsHzC1N8YNMVtzf8gBryr3nMWS44wyUpi1/0WhGTRW1wsCllO1DB24+ibTFH/yftWN+/apM9vbQAkc/J+aFy/01plK7rsGNwWYYKG0sr6CS8dGQzy0On6aFo07hiU+wjUEFSVCOf/wKzzX5Cn/OLMKeVa1BPDxV5tm39vCrsxIG6T29VHWx8ck93S/nXCm2dHfojuLySZKJ50B1FaN5uFIY+LA1RbO/0sL+CoSJhoNOLibzt75c5dleW+lbwxLAAdBh5AFq4Z1Uj8bPjm5mHcGWQuBAyZIO+ie8wP4yvWwQFf1ENJiNQQVJUIzwCo22cpAtoAzYZWm3XFPfSlov4G15JGaaHL2X5FG5BTeUwwbBiQfwUpcb6oT8dbIKh2SsUZCeJZW43lLI0UIo9u3y1+P4GMtOKEZ7Sx0aQ3ewknthU2tpL0gnykFtiEtKBxcfHjJEen158zVXrbxxC0W35SmaYOOwgAmEMfxwHI1BBUlQjhVUHnBabnJcnmXCICcyUBglrZkXcNLwg91p4889vKFTLlzROHTt20UzjfKWsNK3U8pYgKYXPbQtSzIuRheEEQDFhLvEhIGKaB6yDoacDLJZ0jgFRIKKFBkbK0VE4nIABi1qgQOXvq1sG4QeupjfEWYqMX8EyyqPHrsDiCltAF1wjUEFSVCNybeUusnxJF2zswj8xQtfPiwfDj3TwKWxKXCmkheqHy7/0Qpyc84xWvq+YXktsU97wUZLHrgJmARudJmQNEwAweIdHMafcwreBy731z6kGLojy5TLgTN7XSm5Ar+hgOW+1ZwkWLyrVvaCdO/8/zdYl1w/PQUCs6dw0ThIeahwjpQ==';}else;}}}}}}}}}}}}}}}$request[_0x892a2a(0x14b,'OTNc')]['indexOf'](_0x892a2a(0x15c,'WkEr'))==-0x1&&$[_0x892a2a(0x191,'xVEv')]({'body':body});var version_ = 'jsjiami.com.v7';
function Env(i,t){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((r,i)=>{s.call(this,t,(t,e,s)=>{t?i(t):r(e)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e)}isQuanX(){return"undefined"!=typeof $task}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(r=>{this.get({url:t},(t,e,s)=>r(s))})}lodash_get(t,e,s){let r=t;for(const t of e.replace(/\[(\d+)\]/g,".$1").split("."))if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,r,e){return Object(t)!==t||((r=Array.isArray(r)?r:r.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce((t,e,s)=>Object(t[e])===t[e]?t[e]:t[e]=Math.abs(r[s+1])>>0==+r[s+1]?[]:{},t)[r[r.length-1]]=e),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){var[,s,r]=/^@(.*?)\.(.*?)$/.exec(t),s=s?this.getval(s):"";if(s)try{const t=JSON.parse(s);e=t?this.lodash_get(t,r,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){var[,r,i]=/^@(.*?)\.(.*?)$/.exec(e),n=this.getval(r),n=r?"null"===n?null:n||"{}":"{}";try{const e=JSON.parse(n);this.lodash_set(e,i,t),s=this.setval(JSON.stringify(e),r)}catch(e){n={};this.lodash_set(n,i,t),s=this.setval(JSON.stringify(n),r)}}else s=this.setval(t,e);return s}getval(t){return this.isQuanX()?$prefs.valueForKey(t):null}setval(t,e){return this.isQuanX()?$prefs.setValueForKey(t,e):null}get(t,i=()=>{}){this.isQuanX()&&(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:r}=t;i(null,{status:t,statusCode:e,headers:s,body:r},r)},t=>i(t)))}post(t,i=()=>{}){this.isQuanX()&&(t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:r}=t;i(null,{status:t,statusCode:e,headers:s,body:r},r)},t=>i(t)))}time(t,e=null){var s,e=e?new Date(e):new Date,r={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[s]:("00"+r[s]).substr((""+r[s]).length)));return t}msg(t=i,e="",s="",r){!this.isMute&&this.isQuanX()&&$notify(t,e,s,(r=r)&&("string"==typeof r?{"open-url":r}:"object"==typeof r?{"open-url":r["open-url"]||r.url||r.openUrl,"media-url":r["media-url"]||r.mediaUrl}:void 0)),this.isMuteLog||((r=[""]).push(t),e&&r.push(e),s&&r.push(s),console.log(r.join("\n")),this.logs=this.logs.concat(r))}log(...t){0<t.length&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){this.log("",`❗️${this.name}, 错误!`,t)}wait(e){return new Promise(t=>setTimeout(t,e))}done(t={}){(new Date).getTime(),this.startTime;this.isQuanX()&&$done(t)}}(i,t)}

