#!name=å¾®åšå»å¹¿å‘Š&å‡€åŒ–
#!desc=å»é™¤å¸¸è§çš„å¹¿å‘Šå’Œéƒ¨åˆ†å¤šä½™çš„æ¨¡å—
#!date=2026-01-21
#!category=ğŸ¹ BOBO AD
#!author= å¥¶æ€[https://github.com/fmz200]
#!icon=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/Icons/AppIcons/Image/App/Weibo.png
#!openUrl=https://apps.apple.com/app/id350962117

#############################################
# > "reject"        ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  404,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# > "reject-200"    ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# > "reject-img"    ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ 1px gif
# > "reject-dict"   ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON å¯¹è±¡
# > "reject-array"  ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON æ•°ç»„
# > "reject-drop"   æ‹’ç»å¹¶ä¸¢å¼ƒè¯·æ±‚ï¼Œä¸”ä¸ä¼šè¿”å›ä»»ä½•å“åº”ã€‚
#############################################

[Rule]
# æ”¶é›†ç”¨æˆ·ä¿¡æ¯ï¼Œä¸Šä¼ ç”¨æˆ·æ—¥å¿—çš„è¯·æ±‚
URL-REGEX, ^https?:\/\/api\.weibo\.cn\/2\/(push\/active|client\/addlog_batch|ad\/preload), REJECT-DROP
URL-REGEX, ^https?:\/\/api-cloudim\.api\.weibo\.com\/v1\/log\/, REJECT-DROP

# å¾®åšå¼€å±å¹¿å‘Š
DOMAIN-SUFFIX, biz.weibo.com, REJECT
DOMAIN, bootpreload.uve.weibo.com, REJECT
# å…¶ä»–å¹¿å‘Š
DOMAIN-SUFFIX, fastimage.uve.weibo.com, REJECT
DOMAIN-SUFFIX, adimg.vue.weibo.com, REJECT
DOMAIN-SUFFIX, zymo.mps.weibo.com, REJECT
DOMAIN-SUFFIX, weibomingzi.com, REJECT
DOMAIN-SUFFIX, sdkapp.uve.weibo.com, REJECT
DOMAIN-SUFFIX, promote.biz.weibo.cn, REJECT
DOMAIN-SUFFIX, gw5.push.mcp.weibo.cn, REJECT
DOMAIN-SUFFIX, gw6.push.mcp.weibo.cn, REJECT
DOMAIN-SUFFIX, game.weibo.cn, REJECT
DOMAIN-SUFFIX, adimg.uve.weibo.com, REJECT
DOMAIN-SUFFIX, game.weibo.com, REJECT
DOMAIN-SUFFIX, ads.viber.com, REJECT
DOMAIN-SUFFIX, ads-d.viber.com, REJECT
DOMAIN-SUFFIX, ads.aws.viber.com, REJECT
DOMAIN-SUFFIX, alitui.weibo.com, REJECT
DOMAIN-SUFFIX, dp.im.weibo.cn, REJECT
DOMAIN-SUFFIX, biz.weibo.com.cn, REJECT
DOMAIN-SUFFIX, click.uve.weibo.com, REJECT
DOMAIN-SUFFIX, wax.weibo.com, REJECT
DOMAIN-SUFFIX, wbapp.uve.weibo.com, REJECT
DOMAIN-SUFFIX, widget.weibo.com, REJECT
DOMAIN-SUFFIX, dsp.edm.weibo.cn, REJECT
DOMAIN-SUFFIX, alitui.weibo.com.cn, REJECT
DOMAIN-SUFFIX, tui.weibo.com, REJECT
DOMAIN-SUFFIX, wax.weibo.com.cn, REJECT
DOMAIN-SUFFIX, ad.weibo.com, REJECT
# å±è”½ä¿¡æ¯æ”¶é›†
DOMAIN, datacollection.uve.weibo.com, REJECT
DOMAIN, adpinpai.video.weibocdn.com, REJECT

[Rewrite]
# çƒ­é—¨è§†é¢‘ | çƒ­æ¨è
^https?:\/\/api\.weibo\.c(n|om)\/\d\/(cardlist\?v_f=\d|ad\/weibointl\?) reject-dict
^https?:\/\/weibointl\.api\.weibo\.c(n|om)\/portal\.php\?a=hot_search_users reject-dict
# å¾®åšè½»äº«ç‰ˆçƒ­æœè¯
^https?:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=get_searching_info reject-dict
# å¾®åšè½»äº«ç‰ˆbannerå¹¿å‘Š
^https?:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=trends& response-body-json-jq 'del(.data.banner)'
# ç§ä¿¡ä¸­ç»¿æ´²çš„æ“¦è¾¹è¯±å¯¼æ¨å¹¿
^https?:\/\/weibointl\.api\.weibo\.c(n|om)\/portal\.php\?a=treehole&auth= reject-dict
# å±è”½é¦–é¡µå·¦ä¸Šè§’æ¯æ—¥çš„å¼¹çª—tips
^https?:\/\/m?api\.weibo\.c(n|om)\/\d/push\/daily reject-dict
# è¶…è¯æŒ‰é’®çš„æç¤º
^https?:\/\/api\.weibo\.c(n|om)\/2\/!\/huati\/(discovery_home_bottom_getdotinfo|mobile_discovery_searchchange)\? reject-dict
# å¼€å±å¹¿å‘Š
^https?:\/\/bootrealtime\.uve\.weibo\.com\/v\d\/ad\/realtime reject-dict
^https?:\/\/bootpreload\.uve\.weibo\.com\/v\d\/ad\/preload reject-dict
^https?:\/\/sdkapp\.uve\.weibo\.com\/interface\/sdk\/(get-lbs-cell-info\.php|sdkconfig\.php) REJECT
# å¾®åšé•¿æ–‡ç« æ¨å¹¿
^https:\/\/card\.weibo\.com\/article\/m\/aj\/(reward|uvead)\? reject-dict
^https:\/\/weibo\.com\/ttarticle\/x\/m\/aj\/(reward|uvead)\? reject-dict
# å¾®åš
^https?:\/\/api\.weibo\.cn\/2\/!\/huati\/discovery_home_bottom_channels reject-dict
^https?:\/\/api\.weibo\.cn\/2\/!\/chaohua\/discovery\/home_bottom\/switch reject-dict
^https?:\/\/api\.weibo\.cn\/2\/!\/was\/finder\/searchbarchange\? reject-dict
^https?:\/\/api\.weibo\.cn\/2\/logservice\/service\? reject
^https?:\/\/api\.weibo\.cn\/2\/push\/info\? reject
# æœç´¢é¡µé¢å‡€åŒ–
^https?:\/\/api\.weibo\.cn\/2\/cardlist\? response-body-json-jq 'del(.items[] | select(.category == "group"))'

[Script]
# å¾®åšç§»é™¤å‘ç°é¡µå¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/search\/(finder|container_timeline|container_discover)\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšç§»é™¤å‘ç°é¡µå¹¿å‘Š

# å¾®åšçƒ­æœé¡µé¢å¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/(page|flowpage)\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšçƒ­æœé¡µé¢å¹¿å‘Š

# å¾®åšè¯é¢˜é¡µé¢å¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/searchall\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¯é¢˜é¡µé¢å¹¿å‘Š

# å¾®åšè¶…è¯é¡µé¢å¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_timeline_topicpage\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¶…è¯é¡µé¢å¹¿å‘Š

# å¾®åšè¶…è¯tabé¡µå‡€åŒ–
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_timeline_topic\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¶…è¯tabé¡µå‡€åŒ–

# å¾®åšè¯¦æƒ…é¡µé¢å¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/extend\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¯¦æƒ…é¡µé¢å¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_detail\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¯¦æƒ…é¡µé¢å¹¿å‘Š

# å¾®åšæœ€é¡¶éƒ¨çš„tabé¡µåˆ†ç»„
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/groups\/allgroups\/v2 script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšæœ€é¡¶éƒ¨çš„tabé¡µåˆ†ç»„

# å¾®åšè¯„è®ºåŒºå¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/comments\/mix_comments\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¯„è®ºåŒºå¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/(container_detail_comment|container_detail_mix)\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè¯„è®ºåŒºå¹¿å‘Š

# å¾®åšè½¬å‘åŒºå¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_detail_forward\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_ads.js, requires-body=true, timeout=60, tag=å¾®åšè½¬å‘åŒºå¹¿å‘Š
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/repost_timeline\? script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_main.js, requires-body=true, timeout=60, tag=å¾®åšè½¬å‘åŒºå¹¿å‘Š

# å¾®åšå»å¹¿å‘Šä»¥åŠå»é™¤å„éƒ¨åˆ†æ¨å¹¿æ¨¡å— - cherish
http-response ^https?:\/\/m?api\.weibo\.c(n|om)/2/(cardlist|searchall|page|messageflow|statuses/(unread_)?friends(/|_)timeline|groups/timeline|statuses/(container_timeline|container_timeline_hot|unread_hot_timeline|extend|video_mixtimeline)|profile/(me|container_timeline)|video/(community_tab|remind_info|tiny_stream_video_list)|checkin/show|\!/live/media_homelist|comments/build_comments|container/get_item) script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_main.js, requires-body=true, timeout=60, tag=å¾®åšå»å¹¿å‘Šä»¥åŠå»é™¤å„éƒ¨åˆ†æ¨å¹¿æ¨¡å—
http-response ^https?:\/\/(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua) script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_launch.js, requires-body=true, timeout=60, tag=å¾®åšå»å¹¿å‘Šä»¥åŠå»é™¤å„éƒ¨åˆ†æ¨å¹¿æ¨¡å—

# è‡ªå®šä¹‰tabçš®è‚¤
http-response ^https?:\/\/m?api\.weibo\.c(n|om)\/2\/!\/client\/light_skin script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_main.js, requires-body=true, timeout=60, tag=è‡ªå®šä¹‰tabçš®è‚¤

# éä¼šå‘˜è®¾ç½®tabçš®è‚¤ - cherish
http-response ^https?:\/\/new\.vip\.weibo\.c(n|om)\/littleskin\/preview script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_main.js, requires-body=true, timeout=60, tag=éä¼šå‘˜è®¾ç½®tabçš®è‚¤

# è§£é”å¾®åšä¼šå‘˜APPå›¾æ ‡
http-response ^https?:\/\/new\.vip\.weibo\.c(n|om)\/aj\/appicon\/list script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/Weibo/JS/weibo_vip.js, requires-body=true, timeout=60, tag=è§£é”å¾®åšä¼šå‘˜APPå›¾æ ‡

[MITM]
hostname = *.weibo.cn, *.weibo.com, weibo.com
