#!name=æ»´æ»´å‡ºè¡Œ
#!desc=æ»´æ»´å‡ºè¡Œå»å¹¿å‘Šã€‚ç§»é™¤å¼€å±å¹¿å‘Šã€ç²¾ç®€é¦–é¡µã€åº•æ å’Œæˆ‘çš„é¡µé¢ã€‚
#!date=2025-10-12
#!category=ğŸ˜BOBO AD
#!author= å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!icon=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/Icons/AppIcons/Image/App/DiDi.png
#!openUrl=https://apps.apple.com/app/id554499054


[Rule]
# æ‹¦æˆªå¹¿å‘Šä¸‹å‘
DOMAIN,gwp.xiaojukeji.com,REJECT
AND,((IP-ASN,45090,no-resolve),(DEST-PORT,25641),(PROTOCOL,TCP)),REJECT
AND,((IP-ASN,63646,no-resolve),(DEST-PORT,25641),(PROTOCOL,TCP)),REJECT


[Body Rewrite]
# åº•æ é…ç½®ã€é¦–é¡µå·¥å…·æ 
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/core\? '.data.disorder_cards.bottom_nav_list.data |= map(select(.id == "home_page" or .id == "user_center")) | .data.order_cards.nav_list_card.data |= map(select(.nav_id == "dache_anycar" or .nav_id == "carmate" or .nav_id == "driverservice" or .nav_id == "zhandianbashi" or .nav_id == "yuancheng" or .nav_id == "pincheche" or .nav_id == "bike" or .nav_id == "special_ride" or .nav_id == "nav_more_v3"))'

# é¦–é¡µ - ç™»å½•å¥–åŠ±å¹¿å‘Šã€ä¿ƒé”€æç¤ºæ ã€ä¹˜è½¦ç ã€ä¸»è¦è½®æ’­å¹¿å‘Šã€è½¦ä¸»æœåŠ¡å…¥å£ã€æ¨ªå¹…å¹¿å‘Š
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","disorder_cards","communicate_card"]])'
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","disorder_cards","not_login_bottom_bar"]])'
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","disorder_cards","riding_code_card"]])'
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","order_cards","car_owner_widget_card"]])'
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","order_cards","marketing_card"]])'
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","order_cards","super_banner_card"]])'
http-response-jq ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/fast\? 'delpaths([["data","disorder_cards","car_icon","data","icon_info_new_agreement"]])'

# é¦–é¡µ - æ¨ªå¹…å¹¿å‘Š
http-response-jq ^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget\? 'delpaths([["data","mult_home_banner"]])'

# æˆ‘çš„ - é’±åŒ…ã€è¥é”€å¡ç‰‡
http-response-jq ^https:\/\/common\.diditaxi\.com\.cn\/common\/v5\/usercenter\/layout$ 'delpaths([["data","instances","center_marketing_card"]])'
http-response-jq ^https:\/\/common\.diditaxi\.com\.cn\/common\/v5\/usercenter\/layout$ 'delpaths([["data","instances","center_widget_list"]])'
http-response-jq ^https:\/\/common\.diditaxi\.com\.cn\/common\/v5\/usercenter\/layout$ '.data.instances.center_wallet_finance_card.data.view_info |= map(select(.title == "ä¼˜æƒ å¡åˆ¸" or .title == "ä½™é¢" or .title == "ç¦åˆ©é‡‘"))'

# æ‰“è½¦é¡µé¢ - è¿è¥å¡ç‰‡é…ç½®æ•°æ®
http-response-jq ^https:\/\/api\.udache\.com\/gulfstream\/porsche\/v1\/dache_homepage_layout\? 'delpaths([["data","instances","car_icon_01","data","icon_info_new_agreement"]])'

# è®¢å•è¿›è¡Œé¡µé¢ - å„ç§æ¨å¹¿
http-response-jq ^https:\/\/as\.xiaojukeji\.com\/ep\/as\/toggles\? '.data |= map(if .name|IN("daijia_journey_new_tcp_switch","daijia_tcp_init","daijia_tcp_msg_encrypt","daijia_tcp_site_info","daijia_tcp_site_report")then.allow=false else. end)'


[Map Local]
# æ´»åŠ¨å¼¹çª—
^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# é¡¶éƒ¨æ´»åŠ¨é€šçŸ¥
^https:\/\/lion\.didialift\.com\/broker\/\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# é‡é€¢ä¸“å±ç¦åˆ©
^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/slow\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# é¦–é¡µ - æ‹¼è½¦åŠŸèƒ½è¿è¥å¡ç‰‡é…ç½®æ•°æ®
^https:\/\/ct\.xiaojukeji\.com\/agent\/v3\/feeds\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# æ‰“è½¦é¡µé¢ - è¿è¥å¡ç‰‡é…ç½®æ•°æ®
^https:\/\/conf\.diditaxi\.com\.cn\/dynamic\/conf data-type=text data="{}" status-code=200 header="Content-Type:application/json"


[MITM]
hostname = %APPEND% as.xiaojukeji.com, common.diditaxi.com.cn, conf.diditaxi.com.cn, lion.didialift.com, api.udache.com, ct.xiaojukeji.com, res.xiaojukeji.com, freight.xiaojukeji.com, daijia.kuaidadi.com, 162.14.157.*, 123.207.209.*, 112.53.55.225, 120.241.142.*, 120.241.143.*, 116.85.*, 139.199.240.84

