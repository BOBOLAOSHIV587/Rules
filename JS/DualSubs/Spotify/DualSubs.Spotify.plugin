#!name = üçøÔ∏è DualSubs: üéµ Spotify
#!desc = Spotify Â¢ûÂº∫ÂèäÂèåËØ≠Ê≠åËØç
#!openUrl = http://boxjs.com/#/app/DualSubs.Spotify
#!author = VirgilClyne[https://github.com/VirgilClyne]
#!homepage = https://DualSubs.github.io/guide/spotify
#!icon = https://github.com/DualSubs/Spotify/raw/main/src/assets/icon_rounded.png
#!tag = üçøÔ∏è DualSubs
#!system = iOS,iPadOS,macOS
#!date = 2024-12-10


[Argument]
Types = input,"Translate,External",tag=[Ê≠åËØç] ÂêØÁî®Á±ªÂûãÔºàÂ§öÈÄâÔºâ,desc=ËØ∑ÈÄâÊã©Ë¶ÅÊ∑ªÂä†ÁöÑÊ≠åËØçÈÄâÈ°πÔºåÂ¶ÇÊûú‰∏∫Â§öÈÄâÔºåÂàô‰ºöËá™Âä®ÂÜ≥ÂÆöÊèê‰æõÁöÑÊ≠åËØçÁ±ªÂûã„ÄÇ
Languages[0] = select,"AUTO","ZH","ZH-HANS","ZH-HK","ZH-HANT","EN","ES","JA","KO","DE","FR","TR","KM",tag=[ÁøªËØëÂô®] ‰∏ªËØ≠Ë®ÄÔºàÊ∫êËØ≠Ë®ÄÔºâ,desc=‰ªÖÂΩìÊ∫êËØ≠Ë®ÄËØÜÂà´‰∏çÂáÜÁ°ÆÊó∂Êõ¥ÊîπÊ≠§ÈÄâÈ°π„ÄÇ
Languages[1] = select,"ZH","ZH-HANS","ZH-HK","ZH-HANT","EN","ES","JA","KO","DE","FR","TR","KM",tag=[ÁøªËØëÂô®] ÂâØËØ≠Ë®ÄÔºàÁõÆÊ†áËØ≠Ë®ÄÔºâ,desc=ËØ∑ÊåáÂÆöÁøªËØëÊ≠åËØçÁöÑÁõÆÊ†áËØ≠Ë®Ä„ÄÇ
Vendor = select,"Google","Microsoft",tag=[ÁøªËØëÂô®] ÊúçÂä°ÂïÜAPI,desc=ËØ∑ÈÄâÊã©ÁøªËØëÂô®ÊâÄ‰ΩøÁî®ÁöÑÊúçÂä°ÂïÜAPIÔºåÊõ¥Â§öÁøªËØëÈÄâÈ°πËØ∑‰ΩøÁî®BoxJs„ÄÇ
LrcVendor = select,"NeteaseMusic","QQMusic","NeteaseMusicNodeJS",tag=[Ê≠åËØç] ÊúçÂä°ÂïÜAPI,desc=ËØ∑ÈÄâÊã©Â§ñÈÉ®Ê∫êÊâÄ‰ΩøÁî®ÁöÑÊúçÂä°ÂïÜAPI„ÄÇ
LogLevel = select,"WARN","OFF","ERROR","INFO","DEBUG","ALL",tag=[Ë∞ÉËØï] Êó•ÂøóÁ≠âÁ∫ß,desc=ÈÄâÊã©ËÑöÊú¨Êó•ÂøóÁöÑËæìÂá∫Á≠âÁ∫ßÔºå‰Ωé‰∫éÊâÄÈÄâÁ≠âÁ∫ßÁöÑÊó•ÂøóÂ∞ÜÂÖ®ÈÉ®ËæìÂá∫„ÄÇ


[Script]
# > Spotify Â¢ûÂº∫ÂèäÂèåËØ≠Ê≠åËØç
http-response ^https?:\/\/api\.spotify\.com\/v1\/tracks\? requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/response.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.Tracks.response.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]

http-request ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/request.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.Lyrics.request.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]
http-request ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*) requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/request.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.Lyrics.request.proto, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]

http-response ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json(.*)subtype=Translate requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/Translate.response.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.Translate.Lyrics.response.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]
http-response ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*)subtype=Translate requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/Translate.response.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.Translate.Lyrics.response.proto, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]

http-response ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json(.*)subtype=External requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/External.Lyrics.response.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.External.Lyrics.response.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]
http-response ^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+\?(.*)subtype=External requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/External.Lyrics.response.bundle.js, tag=üçøÔ∏è DualSubs.Spotify.External.Lyrics.response.proto, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]


[MITM]
hostname = api.spotify.com, spclient.wg.spotify.com

