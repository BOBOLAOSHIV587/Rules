#!name = ğŸ¿ï¸ DualSubs: ğŸµ Spotify
#!desc = Spotify å¢å¼ºåŠåŒè¯­æ­Œè¯
#!openUrl = http://boxjs.com/#/app/DualSubs.Spotify
#!author = VirgilClyne[https://github.com/VirgilClyne]
#!homepage = https://DualSubs.github.io/guide/spotify
#!icon = https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/Icons/AppIcons/Image/IMG/DualSubs/Spotify.png
#!tag = ğŸ¿ï¸ DualSubs
#!date = 2025-10-25


[Argument]
Types = input,"Translate,External",tag=[æ­Œè¯] å¯ç”¨ç±»å‹ï¼ˆå¤šé€‰ï¼‰,desc=è¯·é€‰æ‹©è¦æ·»åŠ çš„æ­Œè¯é€‰é¡¹ï¼Œå¦‚æœä¸ºå¤šé€‰ï¼Œåˆ™ä¼šè‡ªåŠ¨å†³å®šæä¾›çš„æ­Œè¯ç±»å‹ã€‚
Languages[0] = select,"AUTO","ZH","ZH-HANS","ZH-HK","ZH-HANT","EN","ES","JA","KO","DE","FR","TR","KM",tag=[ç¿»è¯‘å™¨] ä¸»è¯­è¨€ï¼ˆæºè¯­è¨€ï¼‰,desc=ä»…å½“æºè¯­è¨€è¯†åˆ«ä¸å‡†ç¡®æ—¶æ›´æ”¹æ­¤é€‰é¡¹ã€‚
Languages[1] = select,"ZH","ZH-HANS","ZH-HK","ZH-HANT","EN","ES","JA","KO","DE","FR","TR","KM",tag=[ç¿»è¯‘å™¨] å‰¯è¯­è¨€ï¼ˆç›®æ ‡è¯­è¨€ï¼‰,desc=è¯·æŒ‡å®šç¿»è¯‘æ­Œè¯çš„ç›®æ ‡è¯­è¨€ã€‚
Vendor = select,"Google","Microsoft",tag=[ç¿»è¯‘å™¨] æœåŠ¡å•†API,desc=è¯·é€‰æ‹©ç¿»è¯‘å™¨æ‰€ä½¿ç”¨çš„æœåŠ¡å•†APIï¼Œæ›´å¤šç¿»è¯‘é€‰é¡¹è¯·ä½¿ç”¨BoxJsã€‚
LrcVendor = select,"NeteaseMusic","QQMusic","NeteaseMusicNodeJS",tag=[æ­Œè¯] æœåŠ¡å•†API,desc=è¯·é€‰æ‹©å¤–éƒ¨æºæ‰€ä½¿ç”¨çš„æœåŠ¡å•†APIã€‚
LogLevel = select,"WARN","OFF","ERROR","INFO","DEBUG","ALL",tag=[è°ƒè¯•] æ—¥å¿—ç­‰çº§,desc=é€‰æ‹©è„šæœ¬æ—¥å¿—çš„è¾“å‡ºç­‰çº§ï¼Œä½äºæ‰€é€‰ç­‰çº§çš„æ—¥å¿—å°†å…¨éƒ¨è¾“å‡ºã€‚


[Script]
http-response ^https?:\/\/api\.spotify\.com\/v1\/tracks\? requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/response.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.Tracks.response.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]

http-request ^https?:\/\/(.+-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/request.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.Lyrics.request.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]
http-request ^https?:\/\/(.+-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/\w+\?(.*) requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/request.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.Lyrics.request.proto, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]

http-response ^https?:\/\/(.+-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json(.*)subtype=Translate requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/Translate.response.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.Translate.Lyrics.response.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]
http-response ^https?:\/\/(.+-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/\w+\?(.*)subtype=Translate requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/Translate.response.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.Translate.Lyrics.response.proto, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]

http-response ^https?:\/\/(.+-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/(.+)\?(.*)format=json(.*)subtype=External requires-body=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/External.Lyrics.response.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.External.Lyrics.response.json, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]
http-response ^https?:\/\/(.+-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/\w+\?(.*)subtype=External requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/JS/DualSubs/Spotify/JS/External.Lyrics.response.bundle.js, tag=ğŸ¿ï¸ DualSubs.Spotify.External.Lyrics.response.proto, argument=[{Types},{Languages[0]},{Languages[1]},{Vendor},{LrcVendor},{LogLevel}]


[MITM]
hostname = api.spotify.com, spclient.wg.spotify.com, *-spclient.spotify.com

